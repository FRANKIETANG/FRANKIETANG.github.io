<!DOCTYPE html>
<html lang=zh>
<head>
    <!-- so meta -->
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="HandheldFriendly" content="True">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />
    <meta name="description" content="补基础：React-Redux-ES6-webpack-babel印记中文 先看一遍中文文档，第二遍中英文对着看，第三遍才看英文文档 ReactReact 官方文档 /**  * JSX : xml in JavaScript  * 1、tagName  * 2、attributes(props)  * 3、children  */ /**  * 组件化:   * 1、函数式组件props =&amp;g">
<meta name="keywords" content="React">
<meta property="og:type" content="article">
<meta property="og:title" content="补基础：React-Redux-ES6-webpack-babel">
<meta property="og:url" content="http://yoursite.com/2017/11/05/补基础：React-Redux-ES6-webpack-babel/index.html">
<meta property="og:site_name" content="付林恒的博客">
<meta property="og:description" content="补基础：React-Redux-ES6-webpack-babel印记中文 先看一遍中文文档，第二遍中英文对着看，第三遍才看英文文档 ReactReact 官方文档 /**  * JSX : xml in JavaScript  * 1、tagName  * 2、attributes(props)  * 3、children  */ /**  * 组件化:   * 1、函数式组件props =&amp;g">
<meta property="og:locale" content="zh-Hans">
<meta property="og:image" content="https://ooo.0o0.ooo/2017/11/04/59fd9c6002509.jpg">
<meta property="og:updated_time" content="2017-11-12T16:18:40.728Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="补基础：React-Redux-ES6-webpack-babel">
<meta name="twitter:description" content="补基础：React-Redux-ES6-webpack-babel印记中文 先看一遍中文文档，第二遍中英文对着看，第三遍才看英文文档 ReactReact 官方文档 /**  * JSX : xml in JavaScript  * 1、tagName  * 2、attributes(props)  * 3、children  */ /**  * 组件化:   * 1、函数式组件props =&amp;g">
<meta name="twitter:image" content="https://ooo.0o0.ooo/2017/11/04/59fd9c6002509.jpg">
    
    
        
          
              <link rel="shortcut icon" href="/images/favicon.jpg">
          
        
        
          
            <link rel="icon" type="image/png" href="/images/favicon.jpg" sizes="192x192">
          
        
        
          
            <link rel="apple-touch-icon" sizes="180x180" href="/images/favicon.jpg">
          
        
    
    <!-- title -->
    <title>补基础：React-Redux-ES6-webpack-babel</title>
    <!-- styles -->
    <link rel="stylesheet" href="/css/style.css">
    <!-- rss -->
    
    
</head>

<body>
    
      <div id="header-post">
  <a id="menu-icon" href="#"><i class="fa fa-bars fa-lg"></i></a>
  <a id="menu-icon-tablet" href="#"><i class="fa fa-bars fa-lg"></i></a>
  <a id="top-icon-tablet" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fa fa-chevron-up fa-lg"></i></a>
  <span id="menu">
    <span id="nav">
      <ul>
         
          <li><a href="/">Home</a></li>
        
      </ul>
    </span>
    <br/>
    <span id="actions">
      <ul>
        
        <li><a class="icon" href="/2017/11/13/补基础：JS 单元测试/"><i class="fa fa-chevron-left" aria-hidden="true" onmouseover="$('#i-prev').toggle();" onmouseout="$('#i-prev').toggle();"></i></a></li>
        
        
        <li><a class="icon" href="/2017/10/25/deepin shadowsocks-qt5 全局翻了个墙/"><i class="fa fa-chevron-right" aria-hidden="true" onmouseover="$('#i-next').toggle();" onmouseout="$('#i-next').toggle();"></i></a></li>
        
        <li><a class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fa fa-chevron-up" aria-hidden="true" onmouseover="$('#i-top').toggle();" onmouseout="$('#i-top').toggle();"></i></a></li>
        <li><a class="icon" href="#"><i class="fa fa-share-alt" aria-hidden="true" onmouseover="$('#i-share').toggle();" onmouseout="$('#i-share').toggle();" onclick="$('#share').toggle();return false;"></i></a></li>
      </ul>
      <span id="i-prev" class="info" style="display:none;">Previous post</span>
      <span id="i-next" class="info" style="display:none;">Next post</span>
      <span id="i-top" class="info" style="display:none;">Back to top</span>
      <span id="i-share" class="info" style="display:none;">Share post</span>
    </span>
    <br/>
    <div id="share" style="display: none">
      <ul>
  <li><a class="icon" href="http://www.facebook.com/sharer.php?u=http://yoursite.com/2017/11/05/补基础：React-Redux-ES6-webpack-babel/"><i class="fa fa-facebook " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://twitter.com/share?url=http://yoursite.com/2017/11/05/补基础：React-Redux-ES6-webpack-babel/&text=补基础：React-Redux-ES6-webpack-babel"><i class="fa fa-twitter " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://www.linkedin.com/shareArticle?url=http://yoursite.com/2017/11/05/补基础：React-Redux-ES6-webpack-babel/&title=补基础：React-Redux-ES6-webpack-babel"><i class="fa fa-linkedin " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=http://yoursite.com/2017/11/05/补基础：React-Redux-ES6-webpack-babel/&is_video=false&description=补基础：React-Redux-ES6-webpack-babel"><i class="fa fa-pinterest " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="mailto:?subject=补基础：React-Redux-ES6-webpack-babel&body=Check out this article: http://yoursite.com/2017/11/05/补基础：React-Redux-ES6-webpack-babel/"><i class="fa fa-envelope " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://getpocket.com/save?url=http://yoursite.com/2017/11/05/补基础：React-Redux-ES6-webpack-babel/&title=补基础：React-Redux-ES6-webpack-babel"><i class="fa fa-get-pocket " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://reddit.com/submit?url=http://yoursite.com/2017/11/05/补基础：React-Redux-ES6-webpack-babel/&title=补基础：React-Redux-ES6-webpack-babel"><i class="fa fa-reddit " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://www.stumbleupon.com/submit?url=http://yoursite.com/2017/11/05/补基础：React-Redux-ES6-webpack-babel/&title=补基础：React-Redux-ES6-webpack-babel"><i class="fa fa-stumbleupon " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://digg.com/submit?url=http://yoursite.com/2017/11/05/补基础：React-Redux-ES6-webpack-babel/&title=补基础：React-Redux-ES6-webpack-babel"><i class="fa fa-digg " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://www.tumblr.com/share/link?url=http://yoursite.com/2017/11/05/补基础：React-Redux-ES6-webpack-babel/&name=补基础：React-Redux-ES6-webpack-babel&description="><i class="fa fa-tumblr " aria-hidden="true"></i></a></li>
</ul>

    </div>
    <div id="toc">
      <ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#补基础：React-Redux-ES6-webpack-babel"><span class="toc-number">1.</span> <span class="toc-text"><a href="#&#x8865;&#x57FA;&#x7840;&#xFF1A;React-Redux-ES6-webpack-babel" class="headerlink" title="&#x8865;&#x57FA;&#x7840;&#xFF1A;React-Redux-ES6-webpack-babel"></a>&#x8865;&#x57FA;&#x7840;&#xFF1A;React-Redux-ES6-webpack-babel</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#React"><span class="toc-number">1.1.</span> <span class="toc-text"><a href="#React" class="headerlink" title="React"></a>React</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#DOM-对比"><span class="toc-number">1.1.1.</span> <span class="toc-text"><a href="#DOM-&#x5BF9;&#x6BD4;" class="headerlink" title="DOM &#x5BF9;&#x6BD4;"></a>DOM &#x5BF9;&#x6BD4;</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#用-react-问候世界"><span class="toc-number">1.1.2.</span> <span class="toc-text"><a href="#&#x7528;-react-&#x95EE;&#x5019;&#x4E16;&#x754C;" class="headerlink" title="&#x7528; react &#x95EE;&#x5019;&#x4E16;&#x754C;"></a>&#x7528; react &#x95EE;&#x5019;&#x4E16;&#x754C;</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#JSX"><span class="toc-number">1.1.3.</span> <span class="toc-text"><a href="#JSX" class="headerlink" title="JSX"></a>JSX</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#JS-in-JSX（动态化）"><span class="toc-number">1.1.4.</span> <span class="toc-text"><a href="#JS-in-JSX&#xFF08;&#x52A8;&#x6001;&#x5316;&#xFF09;" class="headerlink" title="JS-in-JSX&#xFF08;&#x52A8;&#x6001;&#x5316;&#xFF09;"></a>JS-in-JSX&#xFF08;&#x52A8;&#x6001;&#x5316;&#xFF09;</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Component"><span class="toc-number">1.1.5.</span> <span class="toc-text"><a href="#Component" class="headerlink" title="Component"></a>Component</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#life-cycle"><span class="toc-number">1.1.6.</span> <span class="toc-text"><a href="#life-cycle" class="headerlink" title="life-cycle"></a>life-cycle</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#props"><span class="toc-number">1.1.7.</span> <span class="toc-text"><a href="#props" class="headerlink" title="props"></a>props</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#setState"><span class="toc-number">1.1.8.</span> <span class="toc-text"><a href="#setState" class="headerlink" title="setState"></a>setState</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#值得注意的地方"><span class="toc-number">1.1.9.</span> <span class="toc-text"><a href="#&#x503C;&#x5F97;&#x6CE8;&#x610F;&#x7684;&#x5730;&#x65B9;" class="headerlink" title="&#x503C;&#x5F97;&#x6CE8;&#x610F;&#x7684;&#x5730;&#x65B9;"></a>&#x503C;&#x5F97;&#x6CE8;&#x610F;&#x7684;&#x5730;&#x65B9;</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#ref-和-DOM"><span class="toc-number">1.1.10.</span> <span class="toc-text"><a href="#ref-&#x548C;-DOM" class="headerlink" title="ref &#x548C; DOM"></a>ref &#x548C; DOM</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#渲染"><span class="toc-number">1.1.11.</span> <span class="toc-text"><a href="#&#x6E32;&#x67D3;" class="headerlink" title="&#x6E32;&#x67D3;"></a>&#x6E32;&#x67D3;</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#条件渲染"><span class="toc-number">1.1.12.</span> <span class="toc-text"><a href="#&#x6761;&#x4EF6;&#x6E32;&#x67D3;" class="headerlink" title="&#x6761;&#x4EF6;&#x6E32;&#x67D3;"></a>&#x6761;&#x4EF6;&#x6E32;&#x67D3;</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#HOC"><span class="toc-number">1.1.13.</span> <span class="toc-text"><a href="#HOC" class="headerlink" title="HOC"></a>HOC</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Redux"><span class="toc-number">1.2.</span> <span class="toc-text"><a href="#Redux" class="headerlink" title="Redux"></a>Redux</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#第一个简单的例子"><span class="toc-number">1.2.1.</span> <span class="toc-text"><a href="#&#x7B2C;&#x4E00;&#x4E2A;&#x7B80;&#x5355;&#x7684;&#x4F8B;&#x5B50;" class="headerlink" title="&#x7B2C;&#x4E00;&#x4E2A;&#x7B80;&#x5355;&#x7684;&#x4F8B;&#x5B50;"></a>&#x7B2C;&#x4E00;&#x4E2A;&#x7B80;&#x5355;&#x7684;&#x4F8B;&#x5B50;</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#createStore-源码"><span class="toc-number">1.2.2.</span> <span class="toc-text"><a href="#createStore-&#x6E90;&#x7801;" class="headerlink" title="createStore &#x6E90;&#x7801;"></a>createStore &#x6E90;&#x7801;</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#回看例子分析-createStore-源码"><span class="toc-number">1.2.3.</span> <span class="toc-text"><a href="#&#x56DE;&#x770B;&#x4F8B;&#x5B50;&#x5206;&#x6790;-createStore-&#x6E90;&#x7801;" class="headerlink" title="&#x56DE;&#x770B;&#x4F8B;&#x5B50;&#x5206;&#x6790; createStore &#x6E90;&#x7801;"></a>&#x56DE;&#x770B;&#x4F8B;&#x5B50;&#x5206;&#x6790; createStore &#x6E90;&#x7801;</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#怎么改变-dom"><span class="toc-number">1.2.4.</span> <span class="toc-text"><a href="#&#x600E;&#x4E48;&#x6539;&#x53D8;-dom" class="headerlink" title="&#x600E;&#x4E48;&#x6539;&#x53D8; dom"></a>&#x600E;&#x4E48;&#x6539;&#x53D8; dom</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#实现一个MVVM"><span class="toc-number">1.2.5.</span> <span class="toc-text"><a href="#&#x5B9E;&#x73B0;&#x4E00;&#x4E2A;MVVM" class="headerlink" title="&#x5B9E;&#x73B0;&#x4E00;&#x4E2A;MVVM"></a>&#x5B9E;&#x73B0;&#x4E00;&#x4E2A;MVVM</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#中间件"><span class="toc-number">1.2.6.</span> <span class="toc-text"><a href="#&#x4E2D;&#x95F4;&#x4EF6;" class="headerlink" title="&#x4E2D;&#x95F4;&#x4EF6;"></a>&#x4E2D;&#x95F4;&#x4EF6;</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#ES6"><span class="toc-number">1.3.</span> <span class="toc-text"><a href="#ES6" class="headerlink" title="ES6"></a>ES6</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Set-和-Map-的数据结构"><span class="toc-number">1.3.1.</span> <span class="toc-text"><a href="#Set-&#x548C;-Map-&#x7684;&#x6570;&#x636E;&#x7ED3;&#x6784;" class="headerlink" title="Set &#x548C; Map &#x7684;&#x6570;&#x636E;&#x7ED3;&#x6784;"></a>Set &#x548C; Map &#x7684;&#x6570;&#x636E;&#x7ED3;&#x6784;</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Decorators"><span class="toc-number">1.3.2.</span> <span class="toc-text"><a href="#Decorators" class="headerlink" title="Decorators"></a>Decorators</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#webpack"><span class="toc-number">1.4.</span> <span class="toc-text"><a href="#webpack" class="headerlink" title="webpack"></a>webpack</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#webpack-与-react"><span class="toc-number">1.4.1.</span> <span class="toc-text"><a href="#webpack-&#x4E0E;-react" class="headerlink" title="webpack &#x4E0E; react"></a>webpack &#x4E0E; react</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#babel"><span class="toc-number">1.5.</span> <span class="toc-text"><a href="#babel" class="headerlink" title="babel"></a>babel</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#babel-1"><span class="toc-number">1.5.1.</span> <span class="toc-text"><a href="#babel-1" class="headerlink" title="babel"></a>babel</span></a></li></ol></li></ol></li></ol>
    </div>
  </span>
</div>

    
    <div class="content index width mx-auto px2 my4">
        
        <article class="post" itemscope itemtype="http://schema.org/BlogPosting">
  <header>
    
    <h1 class="posttitle" itemprop="name headline">
        补基础：React-Redux-ES6-webpack-babel
    </h1>



    <div class="meta">
      <span class="author" itemprop="author" itemscope itemtype="http://schema.org/Person">
        <span itemprop="name">付林恒的博客</span>
      </span>
      
    <div class="postdate">
        <time datetime="2017-11-05T13:19:16.000Z" itemprop="datePublished">2017-11-05</time>
    </div>


      
    <div class="article-tag">
        <i class="fa fa-tag"></i>
        <a class="tag-link" href="/tags/React/">React</a>
    </div>


    </div>
  </header>
  

  <div class="content" itemprop="articleBody">
    <h1 id="补基础：React-Redux-ES6-webpack-babel"><a href="#补基础：React-Redux-ES6-webpack-babel" class="headerlink" title="补基础：React-Redux-ES6-webpack-babel"></a>补基础：React-Redux-ES6-webpack-babel</h1><p><a href="https://www.docschina.org/" target="_blank" rel="noopener">印记中文</a></p>
<p>先看一遍中文文档，第二遍中英文对着看，第三遍才看英文文档</p>
<h2 id="React"><a href="#React" class="headerlink" title="React"></a>React</h2><p><a href="https://facebook.github.io/react/" target="_blank" rel="noopener">React 官方文档</a></p>
<pre><code>/**
 * JSX : xml in JavaScript
 * 1、tagName
 * 2、attributes(props)
 * 3、children
 */
/**
 * 组件化: 
 * 1、函数式组件props =&gt; JSX ; 
 * 2、类组件:class A extends Component;
 */ 
/**
 * 数据源 : state  + props
 * 更新数据: setState
 * 方案: 当数据越来越复杂的时候，我们需要一个数据解决方案 ==&gt; redux
 * 发起数据变更(click etc.) ==&gt; action
 * 生成新的数据结构(state[store])  ==&gt; redux的reducer生成react的state
 * 渲染(render) ==&gt; react来做
 */
</code></pre><h3 id="DOM-对比"><a href="#DOM-对比" class="headerlink" title="DOM 对比"></a>DOM 对比</h3><pre><code>// 传统方式
&lt;div data-id=&#39;1&#39;&gt;
    hello world
&lt;/div&gt;

// vue 
&lt;div data-id={{id}}&gt;
    {{name}}
&lt;/div&gt;
{
      data: ()=&gt; {
          return {
              name: &#39;hello world&#39;,
              id: 1
          }
      }
}
// 注意 vue 是一个 MVVM 框架
// 特点就是数据和模板分离

// 实际上 react 也可以认为是一个 MVVM 框架
var JSX = &lt;div data-id=&#39;1&#39;&gt;
    hello world
&lt;/div&gt;;
render(JSX,document.getElementById(&#39;root&#39;));
// 数据和模板绑定在一起

Virtual dom

&lt;div width=&#39;100px&#39;&gt;a&lt;/div&gt;
==&gt;
tagname: div
attributes:{width: &#39;100px&#39;}
children: a

==&gt; IOS / Android
tagname: UIButton
attributes:{display: flex}
children: ...
</code></pre><h3 id="用-react-问候世界"><a href="#用-react-问候世界" class="headerlink" title="用 react 问候世界"></a>用 react 问候世界</h3><pre><code>import react, { Component } from &#39;react&#39; // 基础库
import { render } from &#39;react-dom&#39;  // 平台库 这是 web 库
// 为什么要引两个库呢？
// 为了跨平台
// 比如在 ios/android 用上 react-native
// import from &#39;react-natiev&#39;
render(
    &lt;h1&gt;Hello, world&lt;/h1&gt;              // 要塞的代码
    document.getElementById(&#39;root&#39;)    // 容器
)

// 接下来看看用 webpack 编译后的代码
_react2.default.createElement(
  &#39;h1&#39;,
  null,
  &#39;Hello, world!&#39;

/*
 也就是说 react 会把 JSX 分成三个部分
 * tagname
 * attributes
 * children
*/
</code></pre><h3 id="JSX"><a href="#JSX" class="headerlink" title="JSX"></a>JSX</h3><pre><code>// 这种模板语法就叫做 JSX
import React, { Component } from &#39;react&#39;
import { render } from &#39;react-dom&#39;
const RootDom = document.getElementById(&#39;root&#39;)
let JSX = &lt;div name=&quot;frankie&quot;&gt;
    Hello world&lt;span&gt;你好&lt;/span&gt;
&lt;/div&gt;
render(JSX, RootDom)

// 以下是编译出来的结果
/*
var JSX = _react2.default.createElement(
  &#39;div&#39;,
  { name: &#39;jirengu&#39; },
  &#39;Hello world&#39;,
  _react2.default.createElement(
    &#39;span&#39;,
    null,
    &#39;\u4F60\u597D&#39;
  )
);
*/

// 结构就相当于这个
/*
tagname: &#39;div&#39;
attributes: {
      name: &#39;frankie&#39;
}
children: &#39;hello world&#39;,{
      tagname: &#39;span&#39;
      attributes: null
      children: &#39;你好&#39;
}
*/
</code></pre><pre><code>// 值得注意的地方
// JSX 可以防止 XSS 漏洞
// 比如写在 JSX 里会直接输出，写在 HTML 会把 &amp;gt; 转成 &gt;

render() {
  let b = &#39;First &amp;gt; Second&#39;
  return (&lt;div&gt; {b} &lt;/div&gt;)
} 

// 如果要不转译该怎么办？
/*
dangerouslySetInnerHTML函数
dangerouslySetInnerHTML是React提供的替换浏览器DOM中的innerHTML接口的一个函数。一般而言，使用JS代码设置HTML文档的内容是危险的，因为这样很容易把你的用户信息暴露给跨站脚本攻击.所以，你虽然可以直接在React中设置html的内容，但你要使用 dangerouslySetInnerHTML 并向该函数传递一个含有__html键的对象，用来提醒你自己这样做很危险。例如：
function createMarkup() {
  return {__html: &#39;First &amp;middot; Second&#39;};
}

function MyComponent() {
  return &lt;div dangerouslySetInnerHTML={createMarkup()} /&gt;;
}
*/

// 实际上，JSX 里面输入 false ，null ，undefined 都是不渲染的

render() {
  return (&lt;div&gt; {false} {null} {undefined} {0} &lt;/div&gt;)
} 

// 那如果有个空格在中间呢？

render() {
  let b = &#39;First         Second&#39;  // 这里这个空格会打印么？ 不会的
  return (&lt;div&gt; {b} &lt;/div&gt;)
} 

// 还有一些属性啊，比如 onChange onClick 都要用驼峰命名
</code></pre><p><a href="https://zhuanlan.zhihu.com/p/22500730?refer=study-fe" target="_blank" rel="noopener">XSS是什么</a> <a href="https://zhuanlan.zhihu.com/p/22521378?refer=study-fe" target="_blank" rel="noopener">CSRF是什么</a></p>
<h3 id="JS-in-JSX（动态化）"><a href="#JS-in-JSX（动态化）" class="headerlink" title="JS-in-JSX（动态化）"></a>JS-in-JSX（动态化）</h3><pre><code>// 记住要用大括号来包裹变量
import React,{Component} from &#39;react&#39;;
import {render} from &#39;react-dom&#39;;
const RootDom= document.getElementById(&#39;root&#39;);
let a = 1;
let jsx1 = &lt;div&gt;{a}&lt;/div&gt;;
let b = { id : 2 };
let jsx2 = &lt;div&gt;{b.id}&lt;/div&gt;;
let jsx3 = [&#39;i&#39;,&#39;love&#39;,&#39;react&#39;].map((name) =&gt; {
    return &lt;div&gt;{name}&lt;/div&gt;
});
render(&lt;div&gt;
    {jsx1}{jsx2}{jsx3}
    &lt;/div&gt;, RootDom);
// 事实上 render 还有第三个参数 callback
</code></pre><h3 id="Component"><a href="#Component" class="headerlink" title="Component"></a>Component</h3><pre><code>import React,{Component} from &#39;react&#39;;
import {render} from &#39;react-dom&#39;;
const RootDom = document.getElementById(&#39;root&#39;);

/*
 * pure functional components 
 * it must never modify its own props
 */

const A = (props) =&gt; {
    return &lt;div&gt;{ props.gender } + { props.name }&lt;/div&gt;
};
render(&lt;A gender=&#39;male name=&#39;frankie&#39;/&gt;,RootDom);

// tagname  A, ==&gt; 不是传统的html标签，而是个函数
// attributes {   ==&gt; 函数的情况下 attributes === props
//     gender: &#39;male&#39;,
//     name: &quot;frankie&quot;
// }
// children: null

/*
 * class components
 * - Adding Local State to a Class
 * - Adding Lifecycle Methods to a Class
 */
 class FisstComponent extends Component{
        constructor() {
            super()
            this.state = {
                b: 1
            }
        }
        render() {
            return(
                 &lt;div&gt;
                      I am a component
                      {this.state.b}
                 &lt;/div&gt;
            )
        }
 }
 render(&lt;FirstComponent /&gt;,RootDom);

 // class 组件必须有 render 方法
 // class 组件必须继承 Component

 // 组件为什么要大写？区分 HTML 和 组件
</code></pre><h3 id="life-cycle"><a href="#life-cycle" class="headerlink" title="life-cycle"></a>life-cycle</h3><p><a href="https://facebook.github.io/react/docs/state-and-lifecycle.html" target="_blank" rel="noopener">https://facebook.github.io/react/docs/state-and-lifecycle.html</a></p>
<pre><code>// 写代码的时候更具有控制力
import React,{Component} from &#39;react&#39;;
import {render} from &#39;react-dom&#39;;
const RootDom= document.getElementById(&#39;root&#39;);
class FirstComponent extends Component{
    constructor(){
        super();
        this.state = {
            b:1
        }
    }
    // shouldComponentUpdate / componentWillReceiveProps / componentDidMount 用得比较多
    shouldComponentUpdate(){   // 组件是不是应该被更新
        console.log(&#39;shouldComponentUpdate&#39;);
        return true;
    }
    componentWillUnmount(){   // 组件将会移除
        console.log(&#39;componentWillUnmount&#39;)
    }
    componentDidUpdate(){   // 组件更新好了
        console.log(&#39;componentDidUpdate&#39;)
    }
    componentWillUpdate(){   // 组件将会更新
        console.log(&#39;componentWillUpdate&#39;)
    }
    componentWillReceiveProps(){   // 组件获得了新的 props
        console.log(&#39;componentWillReceiveProps&#39;)
    }
    componentWillMount(){   // 组件将被加载
        console.log(&#39;componentWillMount&#39;)
    }
    componentDidMount(){   // 组件加载完成
        this.setState({b:1})
        console.log(&#39;componentDidMount&#39;)
    }
    render(){   // 组件将被渲染
        console.log(&#39;render&#39;)
        let a = &#39;10/26&#39;
        return &lt;div&gt;
               I am a component
                   {a }
                {this.state.b}
            &lt;/div&gt;
    }
 };

render(&lt;FirstComponent /&gt;,RootDom);

// componentWillMount
// render
// componentDidMount
// shouldComponentUpdate
// componentWillUpdate
// render
// componentDidUpdate
</code></pre><h3 id="props"><a href="#props" class="headerlink" title="props"></a>props</h3><pre><code>// &lt;A a=&#39;1&#39;&gt; ==&gt; props = {a:&#39;1&#39;}

import React,{Component} from &#39;react&#39;;
import {render} from &#39;react-dom&#39;;
const RootDom= document.getElementById(&#39;root&#39;);
class Welcome extends Component {
  render() {
    return &lt;div&gt;{this.props.gender} + {this.props.name}&lt;/div&gt;
  }
}
/** props.children
 * React uses this.props.children to access a component&#39;s children nodes.
 * ==== ! props should be pure === // 不应该做任何修改
 */
class ChildComponent extends Component{
    render(){
        return (
        &lt;div&gt;
            {this.props.children}   // 如果 render 写成传统的 html 标签，那“我是个孩子”就是 {this.props.children}
            &lt;Welcome gender=&#39;male&#39; name=&#39;frankie&#39; /&gt;
        &lt;/div&gt;
        );
    }
 };
render(&lt;ChildComponent&gt;我是个孩子&lt;/ChildComponent&gt;,RootDom);

 // 设置默认值 defaultProps
 // 方法 1
 Welcome.defaultProps = {
      gender: &#39;male&#39;,
      name: &#39;frankie&#39;
 }
 // 方法 2
 class Welcome extends Component {
    static defaultProps = {
       gender: &#39;male&#39;,
         name: &#39;frankie&#39;
    }
 }
</code></pre><pre><code> // 类型检测
 import PropTypes from &#39;prop-types&#39;;

 class Welcome extends Component {
    static defaultProps = {
       gender: PropTypes.string,
         name: PropTypes.string
    }
    render(){
          return &lt;div&gt;{this.props.gender} + {this.props.name}&lt;/div&gt; 
    }
 }

 // 假设这里传了数字怎么办？
 ReactDOM.render(&lt;Welcome gender=&#39;0234&#39; name=&#39;0234&#39;/&gt;,RootDom)
</code></pre><p><a href="https://reactjs.org/docs/typechecking-with-proptypes.html" target="_blank" rel="noopener">https://reactjs.org/docs/typechecking-with-proptypes.html</a></p>
<h3 id="setState"><a href="#setState" class="headerlink" title="setState"></a>setState</h3><pre><code>// setState 是一个异步的操作
// 改变数据只有一种方法 setState
import React,{Component} from &#39;react&#39;;
import {render} from &#39;react-dom&#39;;
const RootDom= document.getElementById(&#39;root&#39;);
/**
 * 数据源: state + props
 * props: parent ==&gt; child 【pure不能修改】
 * state: 自身维护的数据状态
 */
class PropState extends Component{
    constructor(){
        super();
        this.state={a:&#39;I am state&#39;}
    }
    click(){
        /**
         * setState ==&gt; 本组件重新render
         */
        this.setState({
            a:&#39;我更新啦 哈哈哈&#39;
        })
    }
    render(){
        return &lt;div onClick={()=&gt;this.click()}&gt;
                {this.state.a}
                &lt;A name= {this.state.a} /&gt;
              &lt;/div&gt;
    }
 };
const A = (props) =&gt; {
    return &lt;div&gt;{props.name}&lt;/div&gt;
}
render(&lt;PropState/&gt;,RootDom);
</code></pre><pre><code>// 定时器
// 记住在 numount 要取消定时器，要不然很容易会造成内存泄露
class Timer extends Component {
    constructor() {
          super()
          this.state = {
              count: 0,
              time: (new Date()).toLocaleTimeString()
          }
    }
    tick() {
        this.setState({
            count: 1,
            time: (new Date()).toLocaleTimeString()
        })
        console.log(this.state.count)  // 0,因为 setState() 是异步函数        
    }
    componentWillMount() {
        this.interval = setInterval(() =&gt; this.tick(),1000)
    }
    componentWillUnmount() {
          clearInterval(this.interval)
    }
    shouldComponentUpate(nextProps, nextState) {
          return true;
    }
    render() {
          return (&lt;div&gt;the time is {this.state.time}&lt;/div&gt;)
    }
}

ReactDOM.render(&lt;Timer /&gt;,RootDom)
</code></pre><h3 id="值得注意的地方"><a href="#值得注意的地方" class="headerlink" title="值得注意的地方"></a>值得注意的地方</h3><pre><code>// 绑定 this 的方法
// 箭头函数和 constructor 都可以
class Name extends Component {
    constructor() {
          super()
          this.state = {
              name: &#39;frankie&#39;
          }
          // 构造函数绑 this
          // this.handleClick = this.handleClick.bind(this)
    }
    // 箭头函数绑 this
    handleClick = () =&gt; {
          alert(this.state.name)
    }
    render() {
          return (&lt;div&gt;my name is {this.state.name}&lt;/div&gt;)
    }
}

// 最后一种 ReactDOM.render(&lt;Name onClick={this.handleClick.bind(this)}/&gt;,RootDom)
// 这种是不建议的，会触发 componentWillReceiveProps 和 shouldComponentUpdate，假如在定时器里，子组件就会一直 render
// 也不能在 render 里用箭头函数
ReactDOM.render(&lt;Name onClick={this.handleClick}/&gt;,RootDom)
</code></pre><pre><code>// 阻止事件冒泡
/*
先考虑一个东西
写在 React 的 div 和原生的 div 是不一样的
那它们的 event 是一样的吗？
// 
&lt;div onclick=&quot;&quot;&gt;&lt;/div&gt;
function test(event){
  return false
}
// react
handleClick = (event) =&gt; {

}

其实是不一样的
react 的 event 是被封装过的，叫做 SyntheticEvent 能实现百分之九十的 event 原生事件 
通过 ev.nativeEvent === event 封装
ev.nativeEvent.stopImmediatePropagation()

handleClick = (event) =&gt; {
  setTimeout(()=&gt; {
    console.log(event.type)
  })
  console.log(event.type)
}

react 的 event 是不能异步执行的
react 的 event 有一个事件值，触发完成之后就会销毁
*/

class Name extends Component {
    constructor() {
          super()
          this.state = {
              name: &#39;frankie&#39;
          }
    }
    handleClick() {
          alert(this.state.name)
          // 可以直接调用
        // event.stopPropagation()
        // event.preventDefault()
    }    
    render() {
          return (&lt;div&gt;my name is {this.state.name}&lt;/div&gt;)
    }
}

ReactDOM.render(&lt;Name onClick={this.handleClick.bind(this)}/&gt;,RootDom)
</code></pre><h3 id="ref-和-DOM"><a href="#ref-和-DOM" class="headerlink" title="ref 和 DOM"></a>ref 和 DOM</h3><p><a href="https://reactjs.org/docs/refs-and-the-dom.html" target="_blank" rel="noopener">https://reactjs.org/docs/refs-and-the-dom.html</a></p>
<pre><code>// 利用 ref 操作 DOM
// react 不建议直接操作 DOM 元素，性能不好
class Name extends Component {
    constructor() {
          super()
          this.state = {
              name: &#39;frankie&#39;
          }
    }
    handleClick = (event) =&gt; {
          // var el = document.getElementById(&#39;content&#39;)
          // this.refs.style.color = &#39;red&#39;  这是旧的
          this.contentRef.style.color = &#39;red&#39;
    }    
    render() {
          return (
          // &lt;div ref=&quot;content&quot;&gt;  这是旧的
          &lt;div onClick={this.handleClick}&gt;
            &lt;div ref={(content) =&gt; {this.contentRef = content}}&gt;
            my name is {this.state.name}
            &lt;/div&gt;
          &lt;/div&gt;)
    }
}

ReactDOM.render(&lt;Name /&gt;,RootDom)

/*
其实上面这种做法 React 是不推荐的
class Name extends Component {
    constructor() {
          super()
          this.state = {
              color: &#39;&#39;,
              name: &#39;frankie&#39;
          }
    }
    handleClick(event){
        this.setState({
              color: &#39;red&#39;
        })
    }    
    render() {
          return (
          /*
          直接在标签上使用style属性时，
          要写成style={{}}是两个大括号，
          外层大括号是告知jsx这里是js语法，
          和真实DOM不同的是，属性值不能是字符串而必须为对象，
          需要注意的是属性名同样需要驼峰命名法。即margin-top要写成marginTop。
          */
          &lt;div style={{color: this.state.color}} onClick={this.handleClick.bind(this)}&gt;
            &lt;div ref={(content) =&gt; {this.contentRef = content}}&gt;
            my name is {this.state.name}
            &lt;/div&gt;
          &lt;/div&gt;)
    }
}

ReactDOM.render(&lt;Name /&gt;,RootDom)

*/
</code></pre><h3 id="渲染"><a href="#渲染" class="headerlink" title="渲染"></a>渲染</h3><pre><code>class Name extends Component {
    constructor() {
          super()
          this.state = {
             let arr = [{
              id: &#39;1&#39;,
              name: &#39;dalao1&#39;
            }, {
              id: &#39;2&#39;,
              name: &#39;dalao2&#39;
            }, {
              id: &#39;3&#39;,
              name: &#39;dalao3&#39;
            }]             
          }
    }
    render() {
          return (
          &lt;div onClick={this.handleClick}&gt;
            &lt;ul&gt;
                {arr.map((item, i) =&gt; {
                    // return &lt;li key={i}&gt;{item.name}&lt;/li&gt;
                    // 这个 key 的作用是见下面
                      return &lt;li&gt;{item.name}&lt;/li&gt;
                })}
            &lt;/ul&gt;
          &lt;/div&gt;)
    }
}

ReactDOM.render(&lt;Name /&gt;,RootDom)

/*
key 的作用 react 做 diff 算法的时候使用
如果 key 能保持稳定，DOM 内容不变就可以避免重新渲染
key 不要用 index 不要用随机数

class Name extends React.Component {
    constructor() {
          super()
          this.state = {
             people : [{
              id: &#39;1&#39;,
              name: &#39;dalao1&#39;
            }, {
              id: &#39;2&#39;,
              name: &#39;dalao2&#39;
            }, {
              id: &#39;3&#39;,
              name: &#39;dalao3&#39;
            }]             
          }
    }
    handleClick(event) {
        // 这里要用深拷贝
        let people = this.state.people
        let newPeople = people.map((person =&gt; {
              let newPerson = {...person}  // 这里相当于浅拷贝
              if (newPerson.id == &#39;2&#39;) {
                  newPerson.name += &#39;haha&#39;
              }
              return newPeople  // 返回了新的地址相当于深拷贝
        }))
        this.setState({
            people : newPeople
        })
    }    
    render() {
          return (
          &lt;div onClick={this.handleClick.bind(this)}&gt;
            &lt;ul&gt;
                {this.state.people.map((item, i) =&gt; {
                    // return &lt;Person key={Math.random() * 100} item={item}&gt;&lt;/Person&gt;
                    // 如果像上面一样，因为 key 是不一样的，所以 react 以为这个组件没有使用过，要重新构造一份
                    return &lt;Person key={i} item={item}&gt;&lt;/Person&gt;
                })}
            &lt;/ul&gt;
          &lt;/div&gt;)
    }
}

class Person extends React.Component{
    shouldComponentUpdate(nextProps, nextState) {
          return nextProps.item.name !== this.props.item.name
          // 如果不用深拷贝，nextProps.item.name === this.props.item.name 是 true，相等的原因是因为 item 是引用类型
    }
      render(){
          console.log(&#39;render&#39; + this.props.item.id)
          /* 
          这里打印的是
          render1
          render2
          render3
          避免 1 3 渲染的方法是
          key 值要稳定
          深拷贝
          */
          return &lt;li&gt;{this.props.item.name}&lt;/li&gt;
      }
}

ReactDOM.render(&lt;Name /&gt;,mountNode)
*/
</code></pre><p><a href="https://segmentfault.com/a/1190000006752076" target="_blank" rel="noopener">JavaScript 深入了解基本类型和引用类型的值</a></p>
<h3 id="条件渲染"><a href="#条件渲染" class="headerlink" title="条件渲染"></a>条件渲染</h3><pre><code>/*
方法有：三元 if else 组件 方法 &amp;&amp;判断
*/

class Name extends React.Component{
      render(){
          let isLogin = this.props.isLogin
          let comp = null
          if(isLogin){
          comp = &lt;Logout /&gt;
          }else{
          comp = &lt;Login /&gt;
          }
          return(&lt;div&gt;
              {comp}
              // {isLogin ? &lt;Logout /&gt; : &lt;Login /&gt;}  // 主要用三元运算
          &lt;/div&gt;)
      }
}

class Login extends React.Component{
      render(){
          return &lt;div&gt;login&lt;/div&gt;
      }
}

class Logout extends React.Component{
      render(){
          return &lt;div&gt;logout&lt;/div&gt;
      }
}

ReactDOM.render(&lt;Name isLogin={true}/&gt;,mountNode)

/*
可以封装成一个组件
function SignIn(isLogin) {
      if(isLogin){
      return &lt;Logout/&gt;
      }else{
      return &lt;Login/&gt;
      }
}

// 在 render 写
render(){
  return(&lt;SignIn isLogin={isLogin}/&gt;)
}
*/

/*
也可以做成一个方法
getLogIn(isLogin) {
  if(isLogin){
    return &lt;Logout /&gt;
  }else{
    return &lt;login/&gt;
  }
}

render(){
  return(&lt;div&gt;
      {this.getLogin(isLogin)}
  &lt;/div&gt;)
}
*/

/*
还有一种用 &amp;&amp; 判断
{isLogin &amp;&amp; &lt;Logout/&gt;}
{isLogin &amp;&amp; &lt;LoginIn/&gt;}
*/
</code></pre><h3 id="HOC"><a href="#HOC" class="headerlink" title="HOC"></a>HOC</h3><pre><code>/*
传一个组件出一个组件
其实可以理解为一个给基础组件加方法的处理器
比如说有两个组件 Ad1 Ad2 他们有 abc 三个方法

Ad1Component{
  a(){};b(){};c(){};
}
Ad2Component{
  a(){};b(){};c(){};
}

那我们可以把方法抽离出一个 Basic 组件
BasicComponent{
  a(){};b(){};c(){};
}

然后写到 HOC 转换
function wrapper(WrapperComponent){
  return BasicComponent{
    a(){};b(){};c(){};
    render(){
      return &lt;WrapperComponent /&gt;
    }
  }
}
*/

// 写个例子
// 在 input 组件的名字改变的时候加上一些日志的方法但是不能 input 组件上写（为什么会有这个需求？因为有可能这个组件不是你自己写的）
/*
想到一个方法用 prototype 但是会影响原型链
 function logProps(InputComponent) {
    InputComponent.prototype.componentWillReceiveProps = function(nextProps, nextState) {
      console.log(&#39;============&#39;)
      console.log(&#39;Current props: &#39;, this.props);
      console.log(&#39;Next props: &#39;, nextProps);
    };
    return InputComponent;
}
*/

// 正确的方法应该是利用 HOC 封装方法

class InputComponent extends React.Component{
    componentWillReceiveProps() {

    }
    render() {
        return &lt;div&gt;{this.props.name}&lt;/div&gt;
    }
}

function logProps(WrappedComponent) {
    return class extends React.Component {  // 匿名组件，要实现的共有方法都在这里做
      componentWillReceiveProps(nextProps) {    
        console.log(&#39;Current props: &#39;, this.props);
        console.log(&#39;Next props: &#39;, nextProps);
      }
      render() {
        return &lt;WrappedComponent {...this.props} /&gt;;
      }
    }
}

const EnhancedComponent = logProps(InputComponent);

 let name = &#39;dalao&#39;;
 setInterval(() =&gt; {
    name += &#39; hah&#39;;
    ReactDOM.render(&lt;EnhancedComponent name={name} /&gt;, document.getElementById(&#39;root&#39;));
 }, 1000)
</code></pre><h2 id="Redux"><a href="#Redux" class="headerlink" title="Redux"></a>Redux</h2><p><a href="http://www.redux.org.cn/" target="_blank" rel="noopener">Redux 官方文档</a></p>
<p><a href="https://github.com/slashhuang/redux-annotation" target="_blank" rel="noopener">https://github.com/slashhuang/redux-annotation</a></p>
<p><img src="https://ooo.0o0.ooo/2017/11/04/59fd9c6002509.jpg" alt=""></p>
<h3 id="第一个简单的例子"><a href="#第一个简单的例子" class="headerlink" title="第一个简单的例子"></a>第一个简单的例子</h3><p><a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Object/assign" target="_blank" rel="noopener">Object.assign()</a></p>
<pre><code>import { createStore } from &#39;redux&#39;
const initState = {}
const reducer = (state, action) =&gt; {
    return action
}
const store = createStore(reducer, initState)
store.dispatch({
    type: &#39;init&#39;,
    payload: &#39;hello world&#39;
})
console.log(store.getState())

// redux 的整体架构
// action (动作) ===&gt; 发起 AJAX
// reducer (Handler处理器) ===&gt; JSON 处理
// state (最后的状态) ===&gt; JSON 保存起来

// 通常从后端拉数据的流程是这样的
// AJAX ===&gt; JSON ===&gt; UI

// 所以上面这个代码拆分开来就是
const action = {
      type: &#39;init&#39;,
      payload: &#39;hello world&#39;,
}
const reducer = (state, action) =&gt; {  // state 是前一次保存的数据状态
      return Object.assign({}, state, action);  // 生成下一个数据状态
}
const store = createStore(reducer, initState)
store.dispatch(action)
console.log(store.getState())
</code></pre><h3 id="createStore-源码"><a href="#createStore-源码" class="headerlink" title="createStore 源码"></a>createStore 源码</h3><pre><code>// 需要注意的是第一个参数和第二个参数（reducer, 初始化的 state）
export default function createStore(reducer, preloadedState, enhancer)

/*
判断...
*/

var currentReducer = reducer;  // 当前的处理器
var currentState = preloadedState;   // 当前的state ===&gt; 初始化的 state
var currentListeners = []; 
var nextListeners = currentListeners;
var isDispatching = false;  // 不执行

/*
往下看
*/

function getState() {
    return currentState;  // 直接 return currentState
}

/*
往下看
*/

  function dispatch(action) {

    try {
      isDispatching = true;
      currentState = currentReducer(currentState, action);  
      // 用当前的 reducer 处理当前的 state 和 action
      // 只要 dispatch(action) 就会处理一遍生成一个 state
    } finally {
      isDispatching = false;
    }

    var listeners = currentListeners = nextListeners;
    for (var i = 0; i &lt; listeners.length; i++) {
      var listener = listeners[i];
      listener();
    }

    return action;  // 返回一个 action
  }

/*
往下看
*/

  return _ref2 = {
    dispatch: dispatch,
    subscribe: subscribe,
    getState: getState,
    replaceReducer: replaceReducer
  }, _ref2[$$observable] = observable, _ref2;
  // 最后也是返回出来
</code></pre><h3 id="回看例子分析-createStore-源码"><a href="#回看例子分析-createStore-源码" class="headerlink" title="回看例子分析 createStore 源码"></a>回看例子分析 createStore 源码</h3><pre><code>import { createStore } from &#39;redux&#39;
const initState = {}
const action = {
      type: &#39;init&#39;,
      payload: &#39;hello world&#39;,
}
const reducer = (state, action) =&gt; {   // currentState = currentReducer(currentState, action);  
      return Object.assign({}, state, action);  // 当前的数据状态
}
debugger
const store = createStore(reducer, initState)  // reducer = (state, action) =&gt; {...}, initState = {}
debugger
store.dispatch(action)  // 所以 store 有 dispatch 方法
console.log(store.getState())  // return currentState
// Object {type: &quot;init&quot;, payload: &quot;hello world&quot;}

// debugger 看过程
// var currentReducer = reducer;  // currentReducer = function reducer(state, action), reducer = function reducer(state, action)
// var currentState = preloadedState;  // currentState = Object {}, preloadedState = Object {}

/*
跳到 dispatch return 一个 API 集合
*/

/*
下一个 debugger
currentState = currentReducer(currentState, action); 进去看一下
return Object.assign({}, state, action);  做一个覆盖
currentState 变成了 Object {type: &quot;init&quot;, payload: &quot;hello world&quot;}
*/

/*
看一下 console.log(store.getState())
function getState() {
    return currentState; // 返回 currentState
}
*/

--------------------------------------------------------------------

// 修改一下代码
import { createStore } from &#39;redux&#39;
const initState = {}
const action = {
      type: &#39;init&#39;,
      payload: &#39;hello world&#39;,
}
const reducer = (state, action) =&gt; {
      return Object.assign({}, state, action);
}
const store = createStore(reducer, initState)
debugger
store.subscribe(() =&gt; {
      console.log(&#39;我注册啦&#39;)
})
store.dispatch(action)
console.log(store.getState())

// store.subscribe 进去看看
/*
  function subscribe(listener) {

    //...

    nextListeners.push(listener);    // nextListeners 是一个长度为零的数组，把 listener push 进去
    return function unsubscribe() {
        // ...
    };
  }
*/

// store.dispatch(action) 进去看看
/*
  function dispatch(action) {
    //...
    // 这里会读当前的观察者数组
    var listeners = currentListeners = nextListeners;
    for (var i = 0; i &lt; listeners.length; i++) {
      var listener = listeners[i];
      listener();
    }

    return action;
  }

  ---------------------

  在 console 打 listeners 会打印出 [function]
  listeners[0] 是
  function () {
      console.log(&#39;我注册啦&#39;);
  }
*/

/*
需要注意的一点是
  // When a store is created, an &quot;INIT&quot; action is dispatched so that every
  // reducer returns their initial state. This effectively populates
  // the initial state tree.
  dispatch({ type: ActionTypes.INIT })
  也就是说，每调用一遍 createStore 就会执行一遍 dispatch({ type: ActionTypes.INIT })
  所以初始化的 action 是 type: &quot;@@redux/INIT&quot;
*/
</code></pre><h3 id="怎么改变-dom"><a href="#怎么改变-dom" class="headerlink" title="怎么改变 dom"></a>怎么改变 dom</h3><pre><code>// HTML
    &lt;div id=&#39;root&#39;&gt;
        1
    &lt;/div&gt;
// JS
import { createStore } from &#39;redux&#39;
const ROOTDOM = document.getElementById(&#39;root&#39;)
const initState = {}
const action = {
      type: &#39;init&#39;,
      payload: &#39;hello world&#39;,
}
const reducer = (state, action) =&gt; {  
      return Object.assign({}, state, action); 
}
const store = createStore(reducer, initState) 
store.subscribe(() =&gt; {
      ROOTDOM.innerHTML = JSON.stringify(store.getState())
})
let counter = 0
ROOTDOM.addEventListener(&#39;click&#39;, () =&gt; {
      counter++
      const action = {
          type: &#39;click&#39;,
          payload: counter
      }
      store.dispatch(action)
})
</code></pre><h3 id="实现一个MVVM"><a href="#实现一个MVVM" class="headerlink" title="实现一个MVVM"></a>实现一个MVVM</h3><pre><code>// HTML
&lt;input id=&quot;name&quot;/&gt;
数据预览区
&lt;div id=&quot;preview&quot;&gt;&lt;/div&gt;
&lt;div id=&#39;root&#39;&gt;
1
&lt;/div&gt;
// JS
import { createStore } from &#39;redux&#39;;
const initState = {};
const action = {
    type: &#39;init&#39;,
    payload: &#39;hello world&#39;,
};
const reducer = (state, action) =&gt; {
    return Object.assign({}, state, action);
};
const store = createStore(reducer, initState);
const INPUTDOM = document.getElementById(&#39;name&#39;);
const PREVIEWDOM = document.getElementById(&#39;preview&#39;);
const digestUI = () =&gt; {
    PREVIEWDOM.innerHTML = store.getState().payload;
    if (PREVIEWDOM.innerHTML.length &gt; 20) {
        alert(&#39;length is 20&#39;)
    }
};
const inputChange = () =&gt;{
    let val = INPUTDOM.value;
    const action = {
        type: &#39;input_change&#39;,
        payload: val,
    };
    store.dispatch(action);
};
let counter = 0;
INPUTDOM.addEventListener(&#39;input&#39;, inputChange)
store.subscribe(digestUI);

// 可以看出好处就是行为都是分离的
</code></pre><h3 id="中间件"><a href="#中间件" class="headerlink" title="中间件"></a>中间件</h3><pre><code>// redux中的applyMiddleware中间件
// Middleware makes it easier for software developers
// to implement 【communication and input/output】,
// so they can focus on the 【specific purpose of their application】.
// 更专注 service 服务 input/output service 输入和输出
// ajax ==&gt; json(乱得一笔) =service转换(中间件)=&gt; UI(整理成好的)
// express/Koa

// 前端
// ajax ==http==&gt;
// httpRequest(head,cookie,body)
// middlewares(解析cookie, 拿到post请求的数据)
// 数据就是好的一笔的数据
// 后端(node.js)

// 看一个例子
// 注意下面这些很多箭头的叫做高阶函数
// 例如 const highFunction = a =&gt; b =&gt; c =&gt; console.log(a+b+c); highFunction(1)(2)(3) // 6 // 一个函数执行完之后返回值是一个函数
// 多参函数 ===&gt; 单参函数

// 如果在 createStore 用上 enhancer 逻辑就会被 applyMiddleware 控制
// return enhancer(createStore)(reducer, preloadedState)

// 前一个 next 指向下一个 action=&gt; { next(action) }; 最后一个 next 指向 dispatch 

// 没有中间件 action ==&gt; ==dispatch==&gt; reducer ==&gt; nextState;
// 有中间件 action ==middlewares==&gt; ==dispatch==&gt; reducer ==&gt; nextState;

// applyMiddleware 的思想是把一堆函数封装成一个函数

import { createStore, applyMiddleware } from &#39;redux&#39;;
const logger1 = store =&gt; next =&gt; action =&gt; {
    console.log(&#39;current dipatch&#39; + JSON.stringify(action));
    next(action);
};
const logger2 = store =&gt; next =&gt; action=&gt; {
    next(action);
};
const logger3 = store =&gt; next =&gt; action=&gt; {
    next(action);
};

const enhancer = applyMiddleware(logger1, logger2, logger3);
const reducer = (state, action) =&gt; state;
const store = createStore(reducer, {}, enhancer);
store.dispatch({type:1});
store.dispatch({type:2});
store.dispatch({type:3});
</code></pre><p>action 的另一种写法 <a href="https://github.com/acdlite/flux-standard-action" target="_blank" rel="noopener">https://github.com/acdlite/flux-standard-action</a></p>
<p><a href="https://stackoverflow.com/questions/32646920/whats-the-at-symbol-in-the-redux-connect-decorator" target="_blank" rel="noopener">What’s the ‘@’ (at symbol) in the Redux @connect decorator?</a></p>
<p><a href="http://taobaofed.org/blog/2016/08/18/react-redux-connect/" target="_blank" rel="noopener">React 实践心得：react-redux 之 connect 方法详解</a></p>
<h2 id="ES6"><a href="#ES6" class="headerlink" title="ES6"></a>ES6</h2><p><a href="http://es6.ruanyifeng.com/" target="_blank" rel="noopener">ES6 教程</a></p>
<p><a href="https://frankietang.github.io/2017/10/14/%E6%91%B8%E5%88%B0%20ES6%20%E7%9A%84%E9%97%A8%E6%8A%8A%E6%89%8B/" target="_blank" rel="noopener">摸到 ES6 的门把手</a></p>
<p>Stage 0 - Strawman（展示阶段）</p>
<ul>
<li>Stage 1 - Proposal（征求意见阶段）</li>
<li>Stage 2 - Draft（草案阶段）</li>
<li>Stage 3 - Candidate（候选人阶段）</li>
<li>Stage 4 - Finished（定案阶段）</li>
</ul>
<p>配 babel 的时候有用 </p>
<h3 id="Set-和-Map-的数据结构"><a href="#Set-和-Map-的数据结构" class="headerlink" title="Set 和 Map 的数据结构"></a>Set 和 Map 的数据结构</h3><p><a href="https://github.com/ruanyf/es6tutorial/blob/2ac6e76b38f117f2acf6c465ab70709275b4241a/docs/set-map.md" target="_blank" rel="noopener">set-map</a></p>
<pre><code>// 向 Set 加入值的时候，不会发生类型转换，所以5和&quot;5&quot;是两个不同的值。Set 内部判断两个值是否不同，使用的算法叫做“Same-value equality”，它类似于精确相等运算符（===），主要的区别是NaN等于自身，而精确相等运算符认为NaN不等于自身。
let s = new Set()
s.size // 0
s.add(1) // {1}
s.size // 1
s.add(1) // {1}
s.size // 1
s.add(&#39;1&#39;) // {1,&#39;1&#39;}
s.size // 2

// 如何快速去除数组里的重复元素
[...new Set([1,2,3,4,5,4,3,2,1])]  // (5) [1, 2, 3, 4, 5]
</code></pre><h3 id="Decorators"><a href="#Decorators" class="headerlink" title="Decorators"></a>Decorators</h3><pre><code>// 对类做一个封装
// 懂了，大概就是在 class 上面绑定方法可以直接调用

function divide(target){
  target.prototype.divide = function(a,b) {return a/b}
  return target
}

@divide
class Math{
  add(a,b){
    return a+b
  }
}

let m = new Math()
console.log(m.divide(6,3)) // 2

// 再封装多一个判断

function divide(needAdd){
  return function(target){
    if(needAdd){
      target.prototype.divide = function(a,b) {return a/b}
    }
  }
  return target
}

@divide(true)
class Math{
  add(a,b){
    return a+b
  }
}

let m = new Math()
console.log(m.divide(6,3)) // 2
</code></pre><h2 id="webpack"><a href="#webpack" class="headerlink" title="webpack"></a>webpack</h2><p><a href="https://webpack.js.org/" target="_blank" rel="noopener">webpack 官方文档</a></p>
<h3 id="webpack-与-react"><a href="#webpack-与-react" class="headerlink" title="webpack 与 react"></a>webpack 与 react</h3><pre><code>// 主要是配 loaders
{
    test: /\.js[x]?$/,        // 符合 js 或者 jsx
    loader: &quot;babel-loader&quot;,   // 运行 babel-loader
    exclude: /node_modules/
},
</code></pre><p>说实话 webpack 这东西翻翻文档就好，不用死记硬背的。要什么功能直接 Google ，<code>npm i -D &lt;package&gt;</code></p>
<p><a href="https://juejin.im/post/59bb37fa6fb9a00a554f89d2" target="_blank" rel="noopener">webpack：从入门到真实项目配置</a></p>
<h2 id="babel"><a href="#babel" class="headerlink" title="babel"></a>babel</h2><p><a href="http://babeljs.io/" target="_blank" rel="noopener">babel 官方文档</a></p>
<h3 id="babel-1"><a href="#babel-1" class="headerlink" title="babel"></a>babel</h3><pre><code>// 因为 react 用的是 JSX 所以需要用到 babel
// 不止 JSX 还有高阶组件(HOC) 要用到 es7 的 Decorator
// 把这一堆代码转换成 JS
// 以下是配法 
{
  &quot;presets&quot;: [
     &quot;stage-0&quot;, // 草案 0
     &quot;es2015&quot;,  // es6
     &quot;react&quot;    // react
  ],
   &quot;plugins&quot;: [&quot;transform-decorators-legacy&quot;]  // 翻译 Decorator
}
</code></pre>
  </div>
</article>



    </div>
    
      <div id="footer-post-container">
  <div id="footer-post">

    <div id="nav-footer" style="display: none">
      <ul>
         
          <li><a href="/">Home</a></li>
        
      </ul>
    </div>

    <div id="toc-footer" style="display: none">
      <ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#补基础：React-Redux-ES6-webpack-babel"><span class="toc-number">1.</span> <span class="toc-text"><a href="#&#x8865;&#x57FA;&#x7840;&#xFF1A;React-Redux-ES6-webpack-babel" class="headerlink" title="&#x8865;&#x57FA;&#x7840;&#xFF1A;React-Redux-ES6-webpack-babel"></a>&#x8865;&#x57FA;&#x7840;&#xFF1A;React-Redux-ES6-webpack-babel</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#React"><span class="toc-number">1.1.</span> <span class="toc-text"><a href="#React" class="headerlink" title="React"></a>React</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#DOM-对比"><span class="toc-number">1.1.1.</span> <span class="toc-text"><a href="#DOM-&#x5BF9;&#x6BD4;" class="headerlink" title="DOM &#x5BF9;&#x6BD4;"></a>DOM &#x5BF9;&#x6BD4;</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#用-react-问候世界"><span class="toc-number">1.1.2.</span> <span class="toc-text"><a href="#&#x7528;-react-&#x95EE;&#x5019;&#x4E16;&#x754C;" class="headerlink" title="&#x7528; react &#x95EE;&#x5019;&#x4E16;&#x754C;"></a>&#x7528; react &#x95EE;&#x5019;&#x4E16;&#x754C;</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#JSX"><span class="toc-number">1.1.3.</span> <span class="toc-text"><a href="#JSX" class="headerlink" title="JSX"></a>JSX</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#JS-in-JSX（动态化）"><span class="toc-number">1.1.4.</span> <span class="toc-text"><a href="#JS-in-JSX&#xFF08;&#x52A8;&#x6001;&#x5316;&#xFF09;" class="headerlink" title="JS-in-JSX&#xFF08;&#x52A8;&#x6001;&#x5316;&#xFF09;"></a>JS-in-JSX&#xFF08;&#x52A8;&#x6001;&#x5316;&#xFF09;</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Component"><span class="toc-number">1.1.5.</span> <span class="toc-text"><a href="#Component" class="headerlink" title="Component"></a>Component</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#life-cycle"><span class="toc-number">1.1.6.</span> <span class="toc-text"><a href="#life-cycle" class="headerlink" title="life-cycle"></a>life-cycle</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#props"><span class="toc-number">1.1.7.</span> <span class="toc-text"><a href="#props" class="headerlink" title="props"></a>props</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#setState"><span class="toc-number">1.1.8.</span> <span class="toc-text"><a href="#setState" class="headerlink" title="setState"></a>setState</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#值得注意的地方"><span class="toc-number">1.1.9.</span> <span class="toc-text"><a href="#&#x503C;&#x5F97;&#x6CE8;&#x610F;&#x7684;&#x5730;&#x65B9;" class="headerlink" title="&#x503C;&#x5F97;&#x6CE8;&#x610F;&#x7684;&#x5730;&#x65B9;"></a>&#x503C;&#x5F97;&#x6CE8;&#x610F;&#x7684;&#x5730;&#x65B9;</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#ref-和-DOM"><span class="toc-number">1.1.10.</span> <span class="toc-text"><a href="#ref-&#x548C;-DOM" class="headerlink" title="ref &#x548C; DOM"></a>ref &#x548C; DOM</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#渲染"><span class="toc-number">1.1.11.</span> <span class="toc-text"><a href="#&#x6E32;&#x67D3;" class="headerlink" title="&#x6E32;&#x67D3;"></a>&#x6E32;&#x67D3;</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#条件渲染"><span class="toc-number">1.1.12.</span> <span class="toc-text"><a href="#&#x6761;&#x4EF6;&#x6E32;&#x67D3;" class="headerlink" title="&#x6761;&#x4EF6;&#x6E32;&#x67D3;"></a>&#x6761;&#x4EF6;&#x6E32;&#x67D3;</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#HOC"><span class="toc-number">1.1.13.</span> <span class="toc-text"><a href="#HOC" class="headerlink" title="HOC"></a>HOC</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Redux"><span class="toc-number">1.2.</span> <span class="toc-text"><a href="#Redux" class="headerlink" title="Redux"></a>Redux</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#第一个简单的例子"><span class="toc-number">1.2.1.</span> <span class="toc-text"><a href="#&#x7B2C;&#x4E00;&#x4E2A;&#x7B80;&#x5355;&#x7684;&#x4F8B;&#x5B50;" class="headerlink" title="&#x7B2C;&#x4E00;&#x4E2A;&#x7B80;&#x5355;&#x7684;&#x4F8B;&#x5B50;"></a>&#x7B2C;&#x4E00;&#x4E2A;&#x7B80;&#x5355;&#x7684;&#x4F8B;&#x5B50;</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#createStore-源码"><span class="toc-number">1.2.2.</span> <span class="toc-text"><a href="#createStore-&#x6E90;&#x7801;" class="headerlink" title="createStore &#x6E90;&#x7801;"></a>createStore &#x6E90;&#x7801;</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#回看例子分析-createStore-源码"><span class="toc-number">1.2.3.</span> <span class="toc-text"><a href="#&#x56DE;&#x770B;&#x4F8B;&#x5B50;&#x5206;&#x6790;-createStore-&#x6E90;&#x7801;" class="headerlink" title="&#x56DE;&#x770B;&#x4F8B;&#x5B50;&#x5206;&#x6790; createStore &#x6E90;&#x7801;"></a>&#x56DE;&#x770B;&#x4F8B;&#x5B50;&#x5206;&#x6790; createStore &#x6E90;&#x7801;</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#怎么改变-dom"><span class="toc-number">1.2.4.</span> <span class="toc-text"><a href="#&#x600E;&#x4E48;&#x6539;&#x53D8;-dom" class="headerlink" title="&#x600E;&#x4E48;&#x6539;&#x53D8; dom"></a>&#x600E;&#x4E48;&#x6539;&#x53D8; dom</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#实现一个MVVM"><span class="toc-number">1.2.5.</span> <span class="toc-text"><a href="#&#x5B9E;&#x73B0;&#x4E00;&#x4E2A;MVVM" class="headerlink" title="&#x5B9E;&#x73B0;&#x4E00;&#x4E2A;MVVM"></a>&#x5B9E;&#x73B0;&#x4E00;&#x4E2A;MVVM</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#中间件"><span class="toc-number">1.2.6.</span> <span class="toc-text"><a href="#&#x4E2D;&#x95F4;&#x4EF6;" class="headerlink" title="&#x4E2D;&#x95F4;&#x4EF6;"></a>&#x4E2D;&#x95F4;&#x4EF6;</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#ES6"><span class="toc-number">1.3.</span> <span class="toc-text"><a href="#ES6" class="headerlink" title="ES6"></a>ES6</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Set-和-Map-的数据结构"><span class="toc-number">1.3.1.</span> <span class="toc-text"><a href="#Set-&#x548C;-Map-&#x7684;&#x6570;&#x636E;&#x7ED3;&#x6784;" class="headerlink" title="Set &#x548C; Map &#x7684;&#x6570;&#x636E;&#x7ED3;&#x6784;"></a>Set &#x548C; Map &#x7684;&#x6570;&#x636E;&#x7ED3;&#x6784;</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Decorators"><span class="toc-number">1.3.2.</span> <span class="toc-text"><a href="#Decorators" class="headerlink" title="Decorators"></a>Decorators</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#webpack"><span class="toc-number">1.4.</span> <span class="toc-text"><a href="#webpack" class="headerlink" title="webpack"></a>webpack</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#webpack-与-react"><span class="toc-number">1.4.1.</span> <span class="toc-text"><a href="#webpack-&#x4E0E;-react" class="headerlink" title="webpack &#x4E0E; react"></a>webpack &#x4E0E; react</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#babel"><span class="toc-number">1.5.</span> <span class="toc-text"><a href="#babel" class="headerlink" title="babel"></a>babel</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#babel-1"><span class="toc-number">1.5.1.</span> <span class="toc-text"><a href="#babel-1" class="headerlink" title="babel"></a>babel</span></a></li></ol></li></ol></li></ol>
    </div>

    <div id="share-footer" style="display: none">
      <ul>
  <li><a class="icon" href="http://www.facebook.com/sharer.php?u=http://yoursite.com/2017/11/05/补基础：React-Redux-ES6-webpack-babel/"><i class="fa fa-facebook fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://twitter.com/share?url=http://yoursite.com/2017/11/05/补基础：React-Redux-ES6-webpack-babel/&text=补基础：React-Redux-ES6-webpack-babel"><i class="fa fa-twitter fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://www.linkedin.com/shareArticle?url=http://yoursite.com/2017/11/05/补基础：React-Redux-ES6-webpack-babel/&title=补基础：React-Redux-ES6-webpack-babel"><i class="fa fa-linkedin fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=http://yoursite.com/2017/11/05/补基础：React-Redux-ES6-webpack-babel/&is_video=false&description=补基础：React-Redux-ES6-webpack-babel"><i class="fa fa-pinterest fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="mailto:?subject=补基础：React-Redux-ES6-webpack-babel&body=Check out this article: http://yoursite.com/2017/11/05/补基础：React-Redux-ES6-webpack-babel/"><i class="fa fa-envelope fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://getpocket.com/save?url=http://yoursite.com/2017/11/05/补基础：React-Redux-ES6-webpack-babel/&title=补基础：React-Redux-ES6-webpack-babel"><i class="fa fa-get-pocket fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://reddit.com/submit?url=http://yoursite.com/2017/11/05/补基础：React-Redux-ES6-webpack-babel/&title=补基础：React-Redux-ES6-webpack-babel"><i class="fa fa-reddit fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://www.stumbleupon.com/submit?url=http://yoursite.com/2017/11/05/补基础：React-Redux-ES6-webpack-babel/&title=补基础：React-Redux-ES6-webpack-babel"><i class="fa fa-stumbleupon fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://digg.com/submit?url=http://yoursite.com/2017/11/05/补基础：React-Redux-ES6-webpack-babel/&title=补基础：React-Redux-ES6-webpack-babel"><i class="fa fa-digg fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://www.tumblr.com/share/link?url=http://yoursite.com/2017/11/05/补基础：React-Redux-ES6-webpack-babel/&name=补基础：React-Redux-ES6-webpack-babel&description="><i class="fa fa-tumblr fa-lg" aria-hidden="true"></i></a></li>
</ul>

    </div>

    <div id="actions-footer">
      <ul>
        <li id="toc"><a class="icon" href="#" onclick="$('#toc-footer').toggle();return false;"><i class="fa fa-list fa-lg" aria-hidden="true"></i> TOC</a></li>
        <li id="share"><a class="icon" href="#" onclick="$('#share-footer').toggle();return false;"><i class="fa fa-share-alt fa-lg" aria-hidden="true"></i> Share</a></li>
        <li id="top" style="display:none"><a class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fa fa-chevron-up fa-lg" aria-hidden="true"></i> Top</a></li>
        <li id="menu"><a class="icon" href="#" onclick="$('#nav-footer').toggle();return false;"><i class="fa fa-bars fa-lg" aria-hidden="true"></i> Menu</a></li>
      </ul>
    </div>

  </div>
</div>

    
    <footer id="footer">
  <div class="footer-left">
    Copyright &copy; 2017 Frankie Tang
  </div>
  <div class="footer-right">
    <nav>
      <ul>
         
          <li><a href="/">Home</a></li>
        
      </ul>
    </nav>
  </div>
</footer>

</body>
</html>
<!-- styles -->
<link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css">
<link rel="stylesheet" href="/lib/meslo-LG/styles.css">
<link rel="stylesheet" href="/lib/justified-gallery/justifiedGallery.min.css">

<!-- jquery -->
<script src="/lib/jquery/jquery.min.js"></script>
<script src="/lib/justified-gallery/jquery.justifiedGallery.min.js"></script>
<script src="/js/main.js"></script>
<!-- search -->

<!-- Google Analytics -->

    <script type="text/javascript">
        (function(i,s,o,g,r,a,m) {i['GoogleAnalyticsObject']=r;i[r]=i[r]||function() {
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
        ga('create', 'UA-86660611-1', 'auto');
        ga('send', 'pageview');
    </script>

<!-- Disqus Comments -->


