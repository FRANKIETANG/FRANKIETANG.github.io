<!DOCTYPE html>
<html style="display: none;" lang="zh">
    <head>
    <meta charset="utf-8">
    <!--
        © Material Theme
        https://github.com/viosey/hexo-theme-material
        Version: 1.5.2 -->
    <script>
        window.materialVersion = "1.5.2"
        // Delete localstorage with these tags
        window.oldVersion = [
            'codestartv1',
            '1.3.4',
            '1.4.0',
            '1.4.0b1',
            '1.5.0'
        ]
    </script>

    <!-- dns prefetch -->
    <meta http-equiv="x-dns-prefetch-control" content="on">


    <link rel="dns-prefetch" href="https://cdn1.lncld.net"/>


    <link rel="dns-prefetch" href="https://busuanzi.ibruce.info"/>












    <!-- Meta & Info -->
    <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
    <meta name="renderer" content="webkit">
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">

    <!-- Title -->
    
    <title>
        
            补基础：React-Redux-ES6-webpack-babel | 
        
        付林恒的博客
    </title>

    <!-- Favicons -->
    <link rel="icon shortcut" type="image/ico" href="/img/26715825.jpg">
    <link rel="icon" href="/img/26715825.jpg">

    <meta name="format-detection" content="telephone=no"/>
    <meta name="description" itemprop="description" content="要做最咸的鱼">
    <meta name="keywords" content=",React">
    <meta name="theme-color" content="#0097A7">

    <!-- Disable Fucking Bloody Baidu Tranformation -->
    <meta http-equiv="Cache-Control" content="no-transform" />
    <meta http-equiv="Cache-Control" content="no-siteapp" />

    <!--[if lte IE 9]>
        <link rel="stylesheet" href="/css/ie-blocker.css">

        
            <script src="/js/ie-blocker.zhCN.js"></script>
        
    <![endif]-->

    <!-- Import lsloader -->
    <script>(function(){window.lsloader={jsRunSequence:[],jsnamemap:{},cssnamemap:{}};lsloader.removeLS=function(a){try{localStorage.removeItem(a)}catch(b){}};lsloader.setLS=function(a,c){try{localStorage.setItem(a,c)}catch(b){}};lsloader.getLS=function(a){var c="";try{c=localStorage.getItem(a)}catch(b){c=""}return c};versionString="/*"+(window.materialVersion||"unknownVersion")+"*/";lsloader.clean=function(){try{var b=[];for(var a=0;a<localStorage.length;a++){b.push(localStorage.key(a))}b.forEach(function(e){var f=lsloader.getLS(e);if(window.oldVersion){var d=window.oldVersion.reduce(function(g,h){return g||f.indexOf("/*"+h+"*/")!==-1},false);if(d){lsloader.removeLS(e)}}})}catch(c){}};lsloader.clean();lsloader.load=function(f,a,b,d){if(typeof b==="boolean"){d=b;b=undefined}d=d||false;b=b||function(){};var e;e=this.getLS(f);if(e&&e.indexOf(versionString)===-1){this.removeLS(f);this.requestResource(f,a,b,d);return}if(e){var c=e.split(versionString)[0];if(c!=a){console.log("reload:"+a);this.removeLS(f);this.requestResource(f,a,b,d);return}e=e.split(versionString)[1];if(d){this.jsRunSequence.push({name:f,code:e});this.runjs(a,f,e)}else{document.getElementById(f).appendChild(document.createTextNode(e));b()}}else{this.requestResource(f,a,b,d)}};lsloader.requestResource=function(b,e,a,c){var d=this;if(c){this.iojs(e,b,function(h,f,g){d.setLS(f,h+versionString+g);d.runjs(h,f,g)})}else{this.iocss(e,b,function(f){document.getElementById(b).appendChild(document.createTextNode(f));d.setLS(b,e+versionString+f)},a)}};lsloader.iojs=function(d,b,g){var a=this;a.jsRunSequence.push({name:b,code:""});try{var f=new XMLHttpRequest();f.open("get",d,true);f.onreadystatechange=function(){if(f.readyState==4){if((f.status>=200&&f.status<300)||f.status==304){if(f.response!=""){g(d,b,f.response);return}}a.jsfallback(d,b)}};f.send(null)}catch(c){a.jsfallback(d,b)}};lsloader.iocss=function(f,c,h,a){var b=this;try{var g=new XMLHttpRequest();g.open("get",f,true);g.onreadystatechange=function(){if(g.readyState==4){if((g.status>=200&&g.status<300)||g.status==304){if(g.response!=""){h(g.response);a();return}}b.cssfallback(f,c,a)}};g.send(null)}catch(d){b.cssfallback(f,c,a)}};lsloader.iofonts=function(f,c,h,a){var b=this;try{var g=new XMLHttpRequest();g.open("get",f,true);g.onreadystatechange=function(){if(g.readyState==4){if((g.status>=200&&g.status<300)||g.status==304){if(g.response!=""){h(g.response);a();return}}b.cssfallback(f,c,a)}};g.send(null)}catch(d){b.cssfallback(f,c,a)}};lsloader.runjs=function(f,c,e){if(!!c&&!!e){for(var b in this.jsRunSequence){if(this.jsRunSequence[b].name==c){this.jsRunSequence[b].code=e}}}if(!!this.jsRunSequence[0]&&!!this.jsRunSequence[0].code&&this.jsRunSequence[0].status!="failed"){var a=document.createElement("script");a.appendChild(document.createTextNode(this.jsRunSequence[0].code));a.type="text/javascript";document.getElementsByTagName("head")[0].appendChild(a);this.jsRunSequence.shift();if(this.jsRunSequence.length>0){this.runjs()}}else{if(!!this.jsRunSequence[0]&&this.jsRunSequence[0].status=="failed"){var d=this;var a=document.createElement("script");a.src=this.jsRunSequence[0].path;a.type="text/javascript";this.jsRunSequence[0].status="loading";a.onload=function(){d.jsRunSequence.shift();if(d.jsRunSequence.length>0){d.runjs()}};document.body.appendChild(a)}}};lsloader.tagLoad=function(b,a){this.jsRunSequence.push({name:a,code:"",path:b,status:"failed"});this.runjs()};lsloader.jsfallback=function(c,b){if(!!this.jsnamemap[b]){return}else{this.jsnamemap[b]=b}for(var a in this.jsRunSequence){if(this.jsRunSequence[a].name==b){this.jsRunSequence[a].code="";this.jsRunSequence[a].status="failed";this.jsRunSequence[a].path=c}}this.runjs()};lsloader.cssfallback=function(e,c,b){if(!!this.cssnamemap[c]){return}else{this.cssnamemap[c]=1}var d=document.createElement("link");d.type="text/css";d.href=e;d.rel="stylesheet";d.onload=d.onerror=b;var a=document.getElementsByTagName("script")[0];a.parentNode.insertBefore(d,a)};lsloader.runInlineScript=function(c,b){var a=document.getElementById(b).innerText;this.jsRunSequence.push({name:c,code:a});this.runjs()}})();</script>

    <!-- Import queue -->
    <script>function Queue(){this.dataStore=[];this.offer=b;this.poll=d;this.execNext=a;this.debug=false;this.startDebug=c;function b(e){if(this.debug){console.log("Offered a Queued Function.")}if(typeof e==="function"){this.dataStore.push(e)}else{console.log("You must offer a function.")}}function d(){if(this.debug){console.log("Polled a Queued Function.")}return this.dataStore.shift()}function a(){var e=this.poll();if(e!==undefined){if(this.debug){console.log("Run a Queued Function.")}e()}}function c(){this.debug=true}}var queue=new Queue();</script>

    <!-- Import CSS -->
    
        <style id="material_css"></style><script>if(typeof window.lsLoadCSSMaxNums === "undefined")window.lsLoadCSSMaxNums = 0;window.lsLoadCSSMaxNums++;lsloader.load("material_css","/css/material.min.css?Z7a72R1E4SxzBKR/WGctOA==",function(){if(typeof window.lsLoadCSSNums === "undefined")window.lsLoadCSSNums = 0;window.lsLoadCSSNums++;if(window.lsLoadCSSNums == window.lsLoadCSSMaxNums)document.documentElement.style.display="";}, false)</script>
        <style id="style_css"></style><script>if(typeof window.lsLoadCSSMaxNums === "undefined")window.lsLoadCSSMaxNums = 0;window.lsLoadCSSMaxNums++;lsloader.load("style_css","/css/style.min.css?MKetZV3cUTfDxvMffaOezg==",function(){if(typeof window.lsLoadCSSNums === "undefined")window.lsLoadCSSNums = 0;window.lsLoadCSSNums++;if(window.lsLoadCSSNums == window.lsLoadCSSMaxNums)document.documentElement.style.display="";}, false)</script>

        

    

    

    <!-- Config CSS -->

<!-- Other Styles -->
<style>
  body, html {
    font-family: Roboto, "Helvetica Neue", Helvetica, "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei", "微软雅黑", Arial, sans-serif;
    overflow-x: hidden !important;
  }
  
  code {
    font-family: Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace;
  }

  a {
    color: #00838F;
  }

  .mdl-card__media,
  #search-label,
  #search-form-label:after,
  #scheme-Paradox .hot_tags-count,
  #scheme-Paradox .sidebar_archives-count,
  #scheme-Paradox .sidebar-colored .sidebar-header,
  #scheme-Paradox .sidebar-colored .sidebar-badge{
    background-color: #0097A7 !important;
  }

  /* Sidebar User Drop Down Menu Text Color */
  #scheme-Paradox .sidebar-colored .sidebar-nav>.dropdown>.dropdown-menu>li>a:hover,
  #scheme-Paradox .sidebar-colored .sidebar-nav>.dropdown>.dropdown-menu>li>a:focus {
    color: #0097A7 !important;
  }

  #post_entry-right-info,
  .sidebar-colored .sidebar-nav li:hover > a,
  .sidebar-colored .sidebar-nav li:hover > a i,
  .sidebar-colored .sidebar-nav li > a:hover,
  .sidebar-colored .sidebar-nav li > a:hover i,
  .sidebar-colored .sidebar-nav li > a:focus i,
  .sidebar-colored .sidebar-nav > .open > a,
  .sidebar-colored .sidebar-nav > .open > a:hover,
  .sidebar-colored .sidebar-nav > .open > a:focus,
  #ds-reset #ds-ctx .ds-ctx-entry .ds-ctx-head a {
    color: #0097A7 !important;
  }

  .toTop {
    background: #757575 !important;
  }

  .material-layout .material-post>.material-nav,
  .material-layout .material-index>.material-nav,
  .material-nav a {
    color: #757575;
  }

  #scheme-Paradox .MD-burger-layer {
    background-color: #757575;
  }

  #scheme-Paradox #post-toc-trigger-btn {
    color: #757575;
  }

  .post-toc a:hover {
    color: #00838F;
    text-decoration: underline;
  }

</style>


<!-- Theme Background Related-->

    <style>
      body {
        background-color: #F5F5F5;
      }

      /* blog_info bottom background */
      #scheme-Paradox .material-layout .something-else .mdl-card__supporting-text {
        background-color: #fff;
      }
    </style>




<!-- Fade Effect -->

    <style>
      .fade {
        transition: all 800ms linear;
        -webkit-transform: translate3d(0,0,0);
        -moz-transform: translate3d(0,0,0);
        -ms-transform: translate3d(0,0,0);
        -o-transform: translate3d(0,0,0);
        transform: translate3d(0,0,0);
        opacity: 1;
      }

      .fade.out{
        opacity: 0;
      }
    </style>


<!-- Import Font -->
<!-- Import Roboto -->

    <link href="https://fonts.googleapis.com/css?family=Roboto:300,400,500" rel="stylesheet">


<!-- Import Material Icons -->


    <style id="material_icons"></style><script>if(typeof window.lsLoadCSSMaxNums === "undefined")window.lsLoadCSSMaxNums = 0;window.lsLoadCSSMaxNums++;lsloader.load("material_icons","/css/material-icons.css?pqhB/Rd/ab0H2+kZp0RDmw==",function(){if(typeof window.lsLoadCSSNums === "undefined")window.lsLoadCSSNums = 0;window.lsLoadCSSNums++;if(window.lsLoadCSSNums == window.lsLoadCSSMaxNums)document.documentElement.style.display="";}, false)</script>




    <!-- Import jQuery -->
    
        <script>lsloader.load("jq_js","/js/jquery.min.js?qcusAULNeBksqffqUM2+Ig==", true)</script>
    

    <!-- WebAPP Icons -->
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="application-name" content="付林恒的博客">
    <meta name="msapplication-starturl" content="http://yoursite.com/2017/11/05/补基础：React-Redux-ES6-webpack-babel/">
    <meta name="msapplication-navbutton-color" content="#0097A7">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-title" content="付林恒的博客">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon" href="/img/26715825.jpg">

    <!-- Site Verification -->
    
    

    <!-- RSS -->
    

    <!-- The Open Graph protocol -->
    <meta property="og:url" content="http://yoursite.com/2017/11/05/补基础：React-Redux-ES6-webpack-babel/">
    <meta property="og:type" content="blog">
    <meta property="og:title" content="补基础：React-Redux-ES6-webpack-babel | 付林恒的博客">
    <meta property="og:image" content="/img/26715825.jpg">
    <meta property="og:description" content="要做最咸的鱼">
    <meta property="og:article:tag" content="React"> 

    
        <meta property="article:published_time" content="Sun Nov 05 2017 21:19:16 GMT+0800">
        <meta property="article:modified_time" content="Wed Dec 13 2017 01:58:37 GMT+0800">
    

    <!-- The Twitter Card protocol -->
    <meta name="twitter:card" content="summary_large_image">

    <!-- Add canonical link for SEO -->
    
        <link rel="canonical" href="http://yoursite.com/2017/11/05/补基础：React-Redux-ES6-webpack-babel/index.html" />
    

    <!-- Structured-data for SEO -->
    
        


<script type="application/ld+json">
{
    "@context": "https://schema.org",
    "@type": "BlogPosting",
    "mainEntityOfPage": "http://yoursite.com/2017/11/05/补基础：React-Redux-ES6-webpack-babel/index.html",
    "headline": "补基础：React-Redux-ES6-webpack-babel",
    "datePublished": "Sun Nov 05 2017 21:19:16 GMT+0800",
    "dateModified": "Wed Dec 13 2017 01:58:37 GMT+0800",
    "author": {
        "@type": "Person",
        "name": "Frankie Tang",
        "image": {
            "@type": "ImageObject",
            "url": "/img/26715825.jpg"
        },
        "description": "要做最咸的鱼"
    },
    "publisher": {
        "@type": "Organization",
        "name": "付林恒的博客",
        "logo": {
            "@type":"ImageObject",
            "url": "/img/26715825.jpg"
        }
    },
    "keywords": ",React",
    "description": "要做最咸的鱼",
}
</script>


    

    <!-- Analytics -->
    
    
    

    <!-- Custom Head -->
    

</head>


    
        <body id="scheme-Paradox" class="lazy">
            <div class="material-layout  mdl-js-layout has-drawer is-upgraded">
                

                <!-- Main Container -->
                <main class="material-layout__content" id="main">

                    <!-- Top Anchor -->
                    <div id="top"></div>

                    
                        <!-- Hamburger Button -->
                        <button class="MD-burger-icon sidebar-toggle">
                            <span class="MD-burger-layer"></span>
                        </button>
                    

                    <!-- Post TOC -->

    
    <!-- Back Button -->
    <!--
    <div class="material-back" id="backhome-div" tabindex="0">
        <a class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon"
           href="#" onclick="window.history.back();return false;"
           target="_self"
           role="button"
           data-upgraded=",MaterialButton,MaterialRipple">
            <i class="material-icons" role="presentation">arrow_back</i>
            <span class="mdl-button__ripple-container">
                <span class="mdl-ripple"></span>
            </span>
        </a>
    </div>
    -->


    <!-- Left aligned menu below button -->
    
    
    <button id="post-toc-trigger-btn"
        class="mdl-button mdl-js-button mdl-button--icon">
        <i class="material-icons">format_list_numbered</i>
    </button>

    <ul class="post-toc-wrap mdl-menu mdl-menu--bottom-left mdl-js-menu mdl-js-ripple-effect" for="post-toc-trigger-btn" style="max-height:80vh; overflow-y:scroll;">
        <ol class="post-toc"><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#补基础：React-Redux-ES6-webpack-babel"><span class="post-toc-number">1.</span> <span class="post-toc-text"><a href="#&#x8865;&#x57FA;&#x7840;&#xFF1A;React-Redux-ES6-webpack-babel" class="headerlink" title="&#x8865;&#x57FA;&#x7840;&#xFF1A;React-Redux-ES6-webpack-babel"></a>&#x8865;&#x57FA;&#x7840;&#xFF1A;React-Redux-ES6-webpack-babel</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#React"><span class="post-toc-number">1.1.</span> <span class="post-toc-text"><a href="#React" class="headerlink" title="React"></a>React</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#DOM-对比"><span class="post-toc-number">1.1.1.</span> <span class="post-toc-text"><a href="#DOM-&#x5BF9;&#x6BD4;" class="headerlink" title="DOM &#x5BF9;&#x6BD4;"></a>DOM &#x5BF9;&#x6BD4;</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#用-react-问候世界"><span class="post-toc-number">1.1.2.</span> <span class="post-toc-text"><a href="#&#x7528;-react-&#x95EE;&#x5019;&#x4E16;&#x754C;" class="headerlink" title="&#x7528; react &#x95EE;&#x5019;&#x4E16;&#x754C;"></a>&#x7528; react &#x95EE;&#x5019;&#x4E16;&#x754C;</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#JSX"><span class="post-toc-number">1.1.3.</span> <span class="post-toc-text"><a href="#JSX" class="headerlink" title="JSX"></a>JSX</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#JS-in-JSX（动态化）"><span class="post-toc-number">1.1.4.</span> <span class="post-toc-text"><a href="#JS-in-JSX&#xFF08;&#x52A8;&#x6001;&#x5316;&#xFF09;" class="headerlink" title="JS-in-JSX&#xFF08;&#x52A8;&#x6001;&#x5316;&#xFF09;"></a>JS-in-JSX&#xFF08;&#x52A8;&#x6001;&#x5316;&#xFF09;</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#Component"><span class="post-toc-number">1.1.5.</span> <span class="post-toc-text"><a href="#Component" class="headerlink" title="Component"></a>Component</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#life-cycle"><span class="post-toc-number">1.1.6.</span> <span class="post-toc-text"><a href="#life-cycle" class="headerlink" title="life-cycle"></a>life-cycle</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#props"><span class="post-toc-number">1.1.7.</span> <span class="post-toc-text"><a href="#props" class="headerlink" title="props"></a>props</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#setState"><span class="post-toc-number">1.1.8.</span> <span class="post-toc-text"><a href="#setState" class="headerlink" title="setState"></a>setState</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#值得注意的地方"><span class="post-toc-number">1.1.9.</span> <span class="post-toc-text"><a href="#&#x503C;&#x5F97;&#x6CE8;&#x610F;&#x7684;&#x5730;&#x65B9;" class="headerlink" title="&#x503C;&#x5F97;&#x6CE8;&#x610F;&#x7684;&#x5730;&#x65B9;"></a>&#x503C;&#x5F97;&#x6CE8;&#x610F;&#x7684;&#x5730;&#x65B9;</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#ref-和-DOM"><span class="post-toc-number">1.1.10.</span> <span class="post-toc-text"><a href="#ref-&#x548C;-DOM" class="headerlink" title="ref &#x548C; DOM"></a>ref &#x548C; DOM</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#渲染"><span class="post-toc-number">1.1.11.</span> <span class="post-toc-text"><a href="#&#x6E32;&#x67D3;" class="headerlink" title="&#x6E32;&#x67D3;"></a>&#x6E32;&#x67D3;</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#条件渲染"><span class="post-toc-number">1.1.12.</span> <span class="post-toc-text"><a href="#&#x6761;&#x4EF6;&#x6E32;&#x67D3;" class="headerlink" title="&#x6761;&#x4EF6;&#x6E32;&#x67D3;"></a>&#x6761;&#x4EF6;&#x6E32;&#x67D3;</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#HOC"><span class="post-toc-number">1.1.13.</span> <span class="post-toc-text"><a href="#HOC" class="headerlink" title="HOC"></a>HOC</span></a></li></ol></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#Redux"><span class="post-toc-number">1.2.</span> <span class="post-toc-text"><a href="#Redux" class="headerlink" title="Redux"></a>Redux</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#第一个简单的例子"><span class="post-toc-number">1.2.1.</span> <span class="post-toc-text"><a href="#&#x7B2C;&#x4E00;&#x4E2A;&#x7B80;&#x5355;&#x7684;&#x4F8B;&#x5B50;" class="headerlink" title="&#x7B2C;&#x4E00;&#x4E2A;&#x7B80;&#x5355;&#x7684;&#x4F8B;&#x5B50;"></a>&#x7B2C;&#x4E00;&#x4E2A;&#x7B80;&#x5355;&#x7684;&#x4F8B;&#x5B50;</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#createStore-源码"><span class="post-toc-number">1.2.2.</span> <span class="post-toc-text"><a href="#createStore-&#x6E90;&#x7801;" class="headerlink" title="createStore &#x6E90;&#x7801;"></a>createStore &#x6E90;&#x7801;</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#回看例子分析-createStore-源码"><span class="post-toc-number">1.2.3.</span> <span class="post-toc-text"><a href="#&#x56DE;&#x770B;&#x4F8B;&#x5B50;&#x5206;&#x6790;-createStore-&#x6E90;&#x7801;" class="headerlink" title="&#x56DE;&#x770B;&#x4F8B;&#x5B50;&#x5206;&#x6790; createStore &#x6E90;&#x7801;"></a>&#x56DE;&#x770B;&#x4F8B;&#x5B50;&#x5206;&#x6790; createStore &#x6E90;&#x7801;</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#怎么改变-dom"><span class="post-toc-number">1.2.4.</span> <span class="post-toc-text"><a href="#&#x600E;&#x4E48;&#x6539;&#x53D8;-dom" class="headerlink" title="&#x600E;&#x4E48;&#x6539;&#x53D8; dom"></a>&#x600E;&#x4E48;&#x6539;&#x53D8; dom</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#实现一个MVVM"><span class="post-toc-number">1.2.5.</span> <span class="post-toc-text"><a href="#&#x5B9E;&#x73B0;&#x4E00;&#x4E2A;MVVM" class="headerlink" title="&#x5B9E;&#x73B0;&#x4E00;&#x4E2A;MVVM"></a>&#x5B9E;&#x73B0;&#x4E00;&#x4E2A;MVVM</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#中间件"><span class="post-toc-number">1.2.6.</span> <span class="post-toc-text"><a href="#&#x4E2D;&#x95F4;&#x4EF6;" class="headerlink" title="&#x4E2D;&#x95F4;&#x4EF6;"></a>&#x4E2D;&#x95F4;&#x4EF6;</span></a></li></ol></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#ES6"><span class="post-toc-number">1.3.</span> <span class="post-toc-text"><a href="#ES6" class="headerlink" title="ES6"></a>ES6</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#Set-和-Map-的数据结构"><span class="post-toc-number">1.3.1.</span> <span class="post-toc-text"><a href="#Set-&#x548C;-Map-&#x7684;&#x6570;&#x636E;&#x7ED3;&#x6784;" class="headerlink" title="Set &#x548C; Map &#x7684;&#x6570;&#x636E;&#x7ED3;&#x6784;"></a>Set &#x548C; Map &#x7684;&#x6570;&#x636E;&#x7ED3;&#x6784;</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#Decorators"><span class="post-toc-number">1.3.2.</span> <span class="post-toc-text"><a href="#Decorators" class="headerlink" title="Decorators"></a>Decorators</span></a></li></ol></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#webpack"><span class="post-toc-number">1.4.</span> <span class="post-toc-text"><a href="#webpack" class="headerlink" title="webpack"></a>webpack</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#webpack-与-react"><span class="post-toc-number">1.4.1.</span> <span class="post-toc-text"><a href="#webpack-&#x4E0E;-react" class="headerlink" title="webpack &#x4E0E; react"></a>webpack &#x4E0E; react</span></a></li></ol></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#babel"><span class="post-toc-number">1.5.</span> <span class="post-toc-text"><a href="#babel" class="headerlink" title="babel"></a>babel</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#babel-1"><span class="post-toc-number">1.5.1.</span> <span class="post-toc-text"><a href="#babel-1" class="headerlink" title="babel"></a>babel</span></a></li></ol></li></ol></li></ol>
    </ul>
    




<!-- Layouts -->

    <!-- Post Module -->
    <div class="material-post_container">

        <div class="material-post mdl-grid">
            <div class="mdl-card mdl-shadow--4dp mdl-cell mdl-cell--12-col">

                <!-- Post Header(Thumbnail & Title) -->
                
    <!-- Paradox Post Header -->
    
        
            <!-- Random Thumbnail -->
            <div class="post_thumbnail-random mdl-card__media mdl-color-text--grey-50">
            <script type="text/ls-javascript" id="post-thumbnail-script">
    var randomNum = Math.floor(Math.random() * 19 + 1);

    $('.post_thumbnail-random').attr('data-original', '/img/random/material-' + randomNum + '.png');
    $('.post_thumbnail-random').addClass('lazy');
</script>

        
    
            <p class="article-headline-p">
                补基础：React-Redux-ES6-webpack-babel
            </p>
        </div>





                
                    <!-- Paradox Post Info -->
                    <div class="mdl-color-text--grey-700 mdl-card__supporting-text meta">

    <!-- Author Avatar -->
    <div id="author-avatar">
        <img src="/img/26715825.jpg" width="44px" height="44px" alt="Author Avatar"/>
    </div>
    <!-- Author Name & Date -->
    <div>
        <strong>Frankie Tang</strong>
        <span>11月 05, 2017</span>
    </div>

    <div class="section-spacer"></div>

    <!-- Favorite -->
    <!--
        <button id="article-functions-like-button" class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon btn-like">
            <i class="material-icons" role="presentation">favorite</i>
            <span class="visuallyhidden">favorites</span>
        </button>
    -->

    <!-- Qrcode -->
    

    <!-- Tags (bookmark) -->
    
    <button id="article-functions-viewtags-button" class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon">
        <i class="material-icons" role="presentation">bookmark</i>
        <span class="visuallyhidden">bookmark</span>
    </button>
    <ul class="mdl-menu mdl-menu--bottom-right mdl-js-menu mdl-js-ripple-effect" for="article-functions-viewtags-button">
        <li class="mdl-menu__item">
        <a class="post_tag-link" href="/tags/React/">React</a>
    </ul>
    

    <!-- Share -->
    
        <button id="article-fuctions-share-button" class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon">
    <i class="material-icons" role="presentation">share</i>
    <span class="visuallyhidden">share</span>
</button>
<ul class="mdl-menu mdl-menu--bottom-right mdl-js-menu mdl-js-ripple-effect" for="article-fuctions-share-button">
    

    
        
            <!-- Busuanzi Views -->
            <a class="post_share-link" href="#">
                <li class="mdl-menu__item">
                    <span id="busuanzi_container_page_pv">
                        <span id="busuanzi_value_page_pv"></span>&nbsp;浏览量
                    </span>
                </li>
            </a>
        
    

    <!-- Share Weibo -->
    
        <a class="post_share-link" href="http://service.weibo.com/share/share.php?appkey=&title=补基础：React-Redux-ES6-webpack-babel&url=http://yoursite.com/2017/11/05/补基础：React-Redux-ES6-webpack-babel/index.html&pic=http://yoursite.com/img/26715825.jpg&searchPic=false&style=simple" target="_blank">
            <li class="mdl-menu__item">
                分享到微博
            </li>
        </a>
    

    <!-- Share Twitter -->
    
        <a class="post_share-link" href="https://twitter.com/intent/tweet?text=补基础：React-Redux-ES6-webpack-babel&url=http://yoursite.com/2017/11/05/补基础：React-Redux-ES6-webpack-babel/index.html&via=Frankie Tang" target="_blank">
            <li class="mdl-menu__item">
                分享到 Twitter
            </li>
        </a>
    

    <!-- Share Facebook -->
    
        <a class="post_share-link" href="https://www.facebook.com/sharer/sharer.php?u=http://yoursite.com/2017/11/05/补基础：React-Redux-ES6-webpack-babel/index.html" target="_blank">
            <li class="mdl-menu__item">
                分享到 Facebook
            </li>
        </a>
    

    <!-- Share Google+ -->
    
        <a class="post_share-link" href="https://plus.google.com/share?url=http://yoursite.com/2017/11/05/补基础：React-Redux-ES6-webpack-babel/index.html" target="_blank">
            <li class="mdl-menu__item">
                分享到 Google+
            </li>
        </a>
    

    <!-- Share LinkedIn -->
    
        <a class="post_share-link" href="https://www.linkedin.com/shareArticle?mini=true&url=http://yoursite.com/2017/11/05/补基础：React-Redux-ES6-webpack-babel/index.html&title=补基础：React-Redux-ES6-webpack-babel" target="_blank">
            <li class="mdl-menu__item">
                分享到 LinkedIn
            </li>
        </a>
    

    <!-- Share QQ -->
    
        <a class="post_share-link" href="http://connect.qq.com/widget/shareqq/index.html?site=付林恒的博客&title=补基础：React-Redux-ES6-webpack-babel&summary=要做最咸的鱼&pics=http://yoursite.com/img/26715825.jpg&url=http://yoursite.com/2017/11/05/补基础：React-Redux-ES6-webpack-babel/index.html" target="_blank">
            <li class="mdl-menu__item">
                分享到 QQ
            </li>
        </a>
    

    <!-- Share Telegram -->
    
        <a class="post_share-link" href="https://telegram.me/share/url?url=http://yoursite.com/2017/11/05/补基础：React-Redux-ES6-webpack-babel/index.html&text=补基础：React-Redux-ES6-webpack-babel" target="_blank">
            <li class="mdl-menu__item">
                分享到 Telegram
            </li>
        </a>
    
</ul>

    
</div>

                

                <!-- Post Content -->
                <div id="post-content" class="mdl-color-text--grey-700 mdl-card__supporting-text fade out">
    
        <h1 id="补基础：React-Redux-ES6-webpack-babel"><a href="#补基础：React-Redux-ES6-webpack-babel" class="headerlink" title="补基础：React-Redux-ES6-webpack-babel"></a>补基础：React-Redux-ES6-webpack-babel</h1><p><a href="https://www.docschina.org/" target="_blank" rel="noopener">印记中文</a></p>
<p>先看一遍中文文档，第二遍中英文对着看，第三遍才看英文文档</p>
<h2 id="React"><a href="#React" class="headerlink" title="React"></a>React</h2><p><a href="https://facebook.github.io/react/" target="_blank" rel="noopener">React 官方文档</a></p>
<pre><code>/**
 * JSX : xml in JavaScript
 * 1、tagName
 * 2、attributes(props)
 * 3、children
 */
/**
 * 组件化: 
 * 1、函数式组件props =&gt; JSX ; 
 * 2、类组件:class A extends Component;
 */ 
/**
 * 数据源 : state  + props
 * 更新数据: setState
 * 方案: 当数据越来越复杂的时候，我们需要一个数据解决方案 ==&gt; redux
 * 发起数据变更(click etc.) ==&gt; action
 * 生成新的数据结构(state[store])  ==&gt; redux的reducer生成react的state
 * 渲染(render) ==&gt; react来做
 */
</code></pre><h3 id="DOM-对比"><a href="#DOM-对比" class="headerlink" title="DOM 对比"></a>DOM 对比</h3><pre><code>// 传统方式
&lt;div data-id=&#39;1&#39;&gt;
    hello world
&lt;/div&gt;

// vue 
&lt;div data-id={{id}}&gt;
    {{name}}
&lt;/div&gt;
{
      data: ()=&gt; {
          return {
              name: &#39;hello world&#39;,
              id: 1
          }
      }
}
// 注意 vue 是一个 MVVM 框架
// 特点就是数据和模板分离

// 实际上 react 也可以认为是一个 MVVM 框架
var JSX = &lt;div data-id=&#39;1&#39;&gt;
    hello world
&lt;/div&gt;;
render(JSX,document.getElementById(&#39;root&#39;));
// 数据和模板绑定在一起

Virtual dom

&lt;div width=&#39;100px&#39;&gt;a&lt;/div&gt;
==&gt;
tagname: div
attributes:{width: &#39;100px&#39;}
children: a

==&gt; IOS / Android
tagname: UIButton
attributes:{display: flex}
children: ...
</code></pre><h3 id="用-react-问候世界"><a href="#用-react-问候世界" class="headerlink" title="用 react 问候世界"></a>用 react 问候世界</h3><pre><code>import react, { Component } from &#39;react&#39; // 基础库
import { render } from &#39;react-dom&#39;  // 平台库 这是 web 库
// 为什么要引两个库呢？
// 为了跨平台
// 比如在 ios/android 用上 react-native
// import from &#39;react-natiev&#39;
render(
    &lt;h1&gt;Hello, world&lt;/h1&gt;              // 要塞的代码
    document.getElementById(&#39;root&#39;)    // 容器
)

// 接下来看看用 webpack 编译后的代码
_react2.default.createElement(
  &#39;h1&#39;,
  null,
  &#39;Hello, world!&#39;

/*
 也就是说 react 会把 JSX 分成三个部分
 * tagname
 * attributes
 * children
*/
</code></pre><h3 id="JSX"><a href="#JSX" class="headerlink" title="JSX"></a>JSX</h3><pre><code>// 这种模板语法就叫做 JSX
import React, { Component } from &#39;react&#39;
import { render } from &#39;react-dom&#39;
const RootDom = document.getElementById(&#39;root&#39;)
let JSX = &lt;div name=&quot;frankie&quot;&gt;
    Hello world&lt;span&gt;你好&lt;/span&gt;
&lt;/div&gt;
render(JSX, RootDom)

// 以下是编译出来的结果
/*
var JSX = _react2.default.createElement(
  &#39;div&#39;,
  { name: &#39;jirengu&#39; },
  &#39;Hello world&#39;,
  _react2.default.createElement(
    &#39;span&#39;,
    null,
    &#39;\u4F60\u597D&#39;
  )
);
*/

// 结构就相当于这个
/*
tagname: &#39;div&#39;
attributes: {
      name: &#39;frankie&#39;
}
children: &#39;hello world&#39;,{
      tagname: &#39;span&#39;
      attributes: null
      children: &#39;你好&#39;
}
*/
</code></pre><pre><code>// 值得注意的地方
// JSX 可以防止 XSS 漏洞
// 比如写在 JSX 里会直接输出，写在 HTML 会把 &amp;gt; 转成 &gt;

render() {
  let b = &#39;First &amp;gt; Second&#39;
  return (&lt;div&gt; {b} &lt;/div&gt;)
} 

// 如果要不转译该怎么办？
/*
dangerouslySetInnerHTML函数
dangerouslySetInnerHTML是React提供的替换浏览器DOM中的innerHTML接口的一个函数。一般而言，使用JS代码设置HTML文档的内容是危险的，因为这样很容易把你的用户信息暴露给跨站脚本攻击.所以，你虽然可以直接在React中设置html的内容，但你要使用 dangerouslySetInnerHTML 并向该函数传递一个含有__html键的对象，用来提醒你自己这样做很危险。例如：
function createMarkup() {
  return {__html: &#39;First &amp;middot; Second&#39;};
}

function MyComponent() {
  return &lt;div dangerouslySetInnerHTML={createMarkup()} /&gt;;
}
*/

// 实际上，JSX 里面输入 false ，null ，undefined 都是不渲染的

render() {
  return (&lt;div&gt; {false} {null} {undefined} {0} &lt;/div&gt;)
} 

// 那如果有个空格在中间呢？

render() {
  let b = &#39;First         Second&#39;  // 这里这个空格会打印么？ 不会的
  return (&lt;div&gt; {b} &lt;/div&gt;)
} 

// 还有一些属性啊，比如 onChange onClick 都要用驼峰命名
</code></pre><p><a href="https://zhuanlan.zhihu.com/p/22500730?refer=study-fe" target="_blank" rel="noopener">XSS是什么</a> <a href="https://zhuanlan.zhihu.com/p/22521378?refer=study-fe" target="_blank" rel="noopener">CSRF是什么</a></p>
<h3 id="JS-in-JSX（动态化）"><a href="#JS-in-JSX（动态化）" class="headerlink" title="JS-in-JSX（动态化）"></a>JS-in-JSX（动态化）</h3><pre><code>// 记住要用大括号来包裹变量
import React,{Component} from &#39;react&#39;;
import {render} from &#39;react-dom&#39;;
const RootDom= document.getElementById(&#39;root&#39;);
let a = 1;
let jsx1 = &lt;div&gt;{a}&lt;/div&gt;;
let b = { id : 2 };
let jsx2 = &lt;div&gt;{b.id}&lt;/div&gt;;
let jsx3 = [&#39;i&#39;,&#39;love&#39;,&#39;react&#39;].map((name) =&gt; {
    return &lt;div&gt;{name}&lt;/div&gt;
});
render(&lt;div&gt;
    {jsx1}{jsx2}{jsx3}
    &lt;/div&gt;, RootDom);
// 事实上 render 还有第三个参数 callback
</code></pre><h3 id="Component"><a href="#Component" class="headerlink" title="Component"></a>Component</h3><pre><code>import React,{Component} from &#39;react&#39;;
import {render} from &#39;react-dom&#39;;
const RootDom = document.getElementById(&#39;root&#39;);

/*
 * pure functional components 
 * it must never modify its own props
 */

const A = (props) =&gt; {
    return &lt;div&gt;{ props.gender } + { props.name }&lt;/div&gt;
};
render(&lt;A gender=&#39;male name=&#39;frankie&#39;/&gt;,RootDom);

// tagname  A, ==&gt; 不是传统的html标签，而是个函数
// attributes {   ==&gt; 函数的情况下 attributes === props
//     gender: &#39;male&#39;,
//     name: &quot;frankie&quot;
// }
// children: null

/*
 * class components
 * - Adding Local State to a Class
 * - Adding Lifecycle Methods to a Class
 */
 class FisstComponent extends Component{
        constructor() {
            super()
            this.state = {
                b: 1
            }
        }
        render() {
            return(
                 &lt;div&gt;
                      I am a component
                      {this.state.b}
                 &lt;/div&gt;
            )
        }
 }
 render(&lt;FirstComponent /&gt;,RootDom);

 // class 组件必须有 render 方法
 // class 组件必须继承 Component

 // 组件为什么要大写？区分 HTML 和 组件
</code></pre><h3 id="life-cycle"><a href="#life-cycle" class="headerlink" title="life-cycle"></a>life-cycle</h3><p><a href="https://facebook.github.io/react/docs/state-and-lifecycle.html" target="_blank" rel="noopener">https://facebook.github.io/react/docs/state-and-lifecycle.html</a></p>
<pre><code>// 写代码的时候更具有控制力
import React,{Component} from &#39;react&#39;;
import {render} from &#39;react-dom&#39;;
const RootDom= document.getElementById(&#39;root&#39;);
class FirstComponent extends Component{
    constructor(){
        super();
        this.state = {
            b:1
        }
    }
    // shouldComponentUpdate / componentWillReceiveProps / componentDidMount 用得比较多
    shouldComponentUpdate(){   // 组件是不是应该被更新
        console.log(&#39;shouldComponentUpdate&#39;);
        return true;
    }
    componentWillUnmount(){   // 组件将会移除
        console.log(&#39;componentWillUnmount&#39;)
    }
    componentDidUpdate(){   // 组件更新好了
        console.log(&#39;componentDidUpdate&#39;)
    }
    componentWillUpdate(){   // 组件将会更新
        console.log(&#39;componentWillUpdate&#39;)
    }
    componentWillReceiveProps(){   // 组件获得了新的 props
        console.log(&#39;componentWillReceiveProps&#39;)
    }
    componentWillMount(){   // 组件将被加载
        console.log(&#39;componentWillMount&#39;)
    }
    componentDidMount(){   // 组件加载完成
        this.setState({b:1})
        console.log(&#39;componentDidMount&#39;)
    }
    render(){   // 组件将被渲染
        console.log(&#39;render&#39;)
        let a = &#39;10/26&#39;
        return &lt;div&gt;
               I am a component
                   {a }
                {this.state.b}
            &lt;/div&gt;
    }
 };

render(&lt;FirstComponent /&gt;,RootDom);

// componentWillMount
// render
// componentDidMount
// shouldComponentUpdate
// componentWillUpdate
// render
// componentDidUpdate
</code></pre><h3 id="props"><a href="#props" class="headerlink" title="props"></a>props</h3><pre><code>// &lt;A a=&#39;1&#39;&gt; ==&gt; props = {a:&#39;1&#39;}

import React,{Component} from &#39;react&#39;;
import {render} from &#39;react-dom&#39;;
const RootDom= document.getElementById(&#39;root&#39;);
class Welcome extends Component {
  render() {
    return &lt;div&gt;{this.props.gender} + {this.props.name}&lt;/div&gt;
  }
}
/** props.children
 * React uses this.props.children to access a component&#39;s children nodes.
 * ==== ! props should be pure === // 不应该做任何修改
 */
class ChildComponent extends Component{
    render(){
        return (
        &lt;div&gt;
            {this.props.children}   // 如果 render 写成传统的 html 标签，那“我是个孩子”就是 {this.props.children}
            &lt;Welcome gender=&#39;male&#39; name=&#39;frankie&#39; /&gt;
        &lt;/div&gt;
        );
    }
 };
render(&lt;ChildComponent&gt;我是个孩子&lt;/ChildComponent&gt;,RootDom);

 // 设置默认值 defaultProps
 // 方法 1
 Welcome.defaultProps = {
      gender: &#39;male&#39;,
      name: &#39;frankie&#39;
 }
 // 方法 2
 class Welcome extends Component {
    static defaultProps = {
       gender: &#39;male&#39;,
         name: &#39;frankie&#39;
    }
 }
</code></pre><pre><code> // 类型检测
 import PropTypes from &#39;prop-types&#39;;

 class Welcome extends Component {
    static defaultProps = {
       gender: PropTypes.string,
         name: PropTypes.string
    }
    render(){
          return &lt;div&gt;{this.props.gender} + {this.props.name}&lt;/div&gt; 
    }
 }

 // 假设这里传了数字怎么办？
 ReactDOM.render(&lt;Welcome gender=&#39;0234&#39; name=&#39;0234&#39;/&gt;,RootDom)
</code></pre><p><a href="https://reactjs.org/docs/typechecking-with-proptypes.html" target="_blank" rel="noopener">https://reactjs.org/docs/typechecking-with-proptypes.html</a></p>
<h3 id="setState"><a href="#setState" class="headerlink" title="setState"></a>setState</h3><pre><code>// setState 是一个异步的操作
// 改变数据只有一种方法 setState
import React,{Component} from &#39;react&#39;;
import {render} from &#39;react-dom&#39;;
const RootDom= document.getElementById(&#39;root&#39;);
/**
 * 数据源: state + props
 * props: parent ==&gt; child 【pure不能修改】
 * state: 自身维护的数据状态
 */
class PropState extends Component{
    constructor(){
        super();
        this.state={a:&#39;I am state&#39;}
    }
    click(){
        /**
         * setState ==&gt; 本组件重新render
         */
        this.setState({
            a:&#39;我更新啦 哈哈哈&#39;
        })
    }
    render(){
        return &lt;div onClick={()=&gt;this.click()}&gt;
                {this.state.a}
                &lt;A name= {this.state.a} /&gt;
              &lt;/div&gt;
    }
 };
const A = (props) =&gt; {
    return &lt;div&gt;{props.name}&lt;/div&gt;
}
render(&lt;PropState/&gt;,RootDom);
</code></pre><pre><code>// 定时器
// 记住在 numount 要取消定时器，要不然很容易会造成内存泄露
class Timer extends Component {
    constructor() {
          super()
          this.state = {
              count: 0,
              time: (new Date()).toLocaleTimeString()
          }
    }
    tick() {
        this.setState({
            count: 1,
            time: (new Date()).toLocaleTimeString()
        })
        console.log(this.state.count)  // 0,因为 setState() 是异步函数        
    }
    componentWillMount() {
        this.interval = setInterval(() =&gt; this.tick(),1000)
    }
    componentWillUnmount() {
          clearInterval(this.interval)
    }
    shouldComponentUpate(nextProps, nextState) {
          return true;
    }
    render() {
          return (&lt;div&gt;the time is {this.state.time}&lt;/div&gt;)
    }
}

ReactDOM.render(&lt;Timer /&gt;,RootDom)
</code></pre><h3 id="值得注意的地方"><a href="#值得注意的地方" class="headerlink" title="值得注意的地方"></a>值得注意的地方</h3><pre><code>// 绑定 this 的方法
// 箭头函数和 constructor 都可以
class Name extends Component {
    constructor() {
          super()
          this.state = {
              name: &#39;frankie&#39;
          }
          // 构造函数绑 this
          // this.handleClick = this.handleClick.bind(this)
    }
    // 箭头函数绑 this
    handleClick = () =&gt; {
          alert(this.state.name)
    }
    render() {
          return (&lt;div&gt;my name is {this.state.name}&lt;/div&gt;)
    }
}

// 最后一种 ReactDOM.render(&lt;Name onClick={this.handleClick.bind(this)}/&gt;,RootDom)
// 这种是不建议的，会触发 componentWillReceiveProps 和 shouldComponentUpdate，假如在定时器里，子组件就会一直 render
// 也不能在 render 里用箭头函数
ReactDOM.render(&lt;Name onClick={this.handleClick}/&gt;,RootDom)
</code></pre><pre><code>// 阻止事件冒泡
/*
先考虑一个东西
写在 React 的 div 和原生的 div 是不一样的
那它们的 event 是一样的吗？
// 
&lt;div onclick=&quot;&quot;&gt;&lt;/div&gt;
function test(event){
  return false
}
// react
handleClick = (event) =&gt; {

}

其实是不一样的
react 的 event 是被封装过的，叫做 SyntheticEvent 能实现百分之九十的 event 原生事件 
通过 ev.nativeEvent === event 封装
ev.nativeEvent.stopImmediatePropagation()

handleClick = (event) =&gt; {
  setTimeout(()=&gt; {
    console.log(event.type)
  })
  console.log(event.type)
}

react 的 event 是不能异步执行的
react 的 event 有一个事件值，触发完成之后就会销毁
*/

class Name extends Component {
    constructor() {
          super()
          this.state = {
              name: &#39;frankie&#39;
          }
    }
    handleClick() {
          alert(this.state.name)
          // 可以直接调用
        // event.stopPropagation()
        // event.preventDefault()
    }    
    render() {
          return (&lt;div&gt;my name is {this.state.name}&lt;/div&gt;)
    }
}

ReactDOM.render(&lt;Name onClick={this.handleClick.bind(this)}/&gt;,RootDom)
</code></pre><h3 id="ref-和-DOM"><a href="#ref-和-DOM" class="headerlink" title="ref 和 DOM"></a>ref 和 DOM</h3><p><a href="https://reactjs.org/docs/refs-and-the-dom.html" target="_blank" rel="noopener">https://reactjs.org/docs/refs-and-the-dom.html</a></p>
<pre><code>// 利用 ref 操作 DOM
// react 不建议直接操作 DOM 元素，性能不好
class Name extends Component {
    constructor() {
          super()
          this.state = {
              name: &#39;frankie&#39;
          }
    }
    handleClick = (event) =&gt; {
          // var el = document.getElementById(&#39;content&#39;)
          // this.refs.style.color = &#39;red&#39;  这是旧的
          this.contentRef.style.color = &#39;red&#39;
    }    
    render() {
          return (
          // &lt;div ref=&quot;content&quot;&gt;  这是旧的
          &lt;div onClick={this.handleClick}&gt;
            &lt;div ref={(content) =&gt; {this.contentRef = content}}&gt;
            my name is {this.state.name}
            &lt;/div&gt;
          &lt;/div&gt;)
    }
}

ReactDOM.render(&lt;Name /&gt;,RootDom)

/*
其实上面这种做法 React 是不推荐的
class Name extends Component {
    constructor() {
          super()
          this.state = {
              color: &#39;&#39;,
              name: &#39;frankie&#39;
          }
    }
    handleClick(event){
        this.setState({
              color: &#39;red&#39;
        })
    }    
    render() {
          return (
          /*
          直接在标签上使用style属性时，
          要写成style={{}}是两个大括号，
          外层大括号是告知jsx这里是js语法，
          和真实DOM不同的是，属性值不能是字符串而必须为对象，
          需要注意的是属性名同样需要驼峰命名法。即margin-top要写成marginTop。
          */
          &lt;div style={{color: this.state.color}} onClick={this.handleClick.bind(this)}&gt;
            &lt;div ref={(content) =&gt; {this.contentRef = content}}&gt;
            my name is {this.state.name}
            &lt;/div&gt;
          &lt;/div&gt;)
    }
}

ReactDOM.render(&lt;Name /&gt;,RootDom)

*/
</code></pre><h3 id="渲染"><a href="#渲染" class="headerlink" title="渲染"></a>渲染</h3><pre><code>class Name extends Component {
    constructor() {
          super()
          this.state = {
             let arr = [{
              id: &#39;1&#39;,
              name: &#39;dalao1&#39;
            }, {
              id: &#39;2&#39;,
              name: &#39;dalao2&#39;
            }, {
              id: &#39;3&#39;,
              name: &#39;dalao3&#39;
            }]             
          }
    }
    render() {
          return (
          &lt;div onClick={this.handleClick}&gt;
            &lt;ul&gt;
                {arr.map((item, i) =&gt; {
                    // return &lt;li key={i}&gt;{item.name}&lt;/li&gt;
                    // 这个 key 的作用是见下面
                      return &lt;li&gt;{item.name}&lt;/li&gt;
                })}
            &lt;/ul&gt;
          &lt;/div&gt;)
    }
}

ReactDOM.render(&lt;Name /&gt;,RootDom)

/*
key 的作用 react 做 diff 算法的时候使用
如果 key 能保持稳定，DOM 内容不变就可以避免重新渲染
key 不要用 index 不要用随机数

class Name extends React.Component {
    constructor() {
          super()
          this.state = {
             people : [{
              id: &#39;1&#39;,
              name: &#39;dalao1&#39;
            }, {
              id: &#39;2&#39;,
              name: &#39;dalao2&#39;
            }, {
              id: &#39;3&#39;,
              name: &#39;dalao3&#39;
            }]             
          }
    }
    handleClick(event) {
        // 这里要用深拷贝
        let people = this.state.people
        let newPeople = people.map((person =&gt; {
              let newPerson = {...person}  // 这里相当于浅拷贝
              if (newPerson.id == &#39;2&#39;) {
                  newPerson.name += &#39;haha&#39;
              }
              return newPeople  // 返回了新的地址相当于深拷贝
        }))
        this.setState({
            people : newPeople
        })
    }    
    render() {
          return (
          &lt;div onClick={this.handleClick.bind(this)}&gt;
            &lt;ul&gt;
                {this.state.people.map((item, i) =&gt; {
                    // return &lt;Person key={Math.random() * 100} item={item}&gt;&lt;/Person&gt;
                    // 如果像上面一样，因为 key 是不一样的，所以 react 以为这个组件没有使用过，要重新构造一份
                    return &lt;Person key={i} item={item}&gt;&lt;/Person&gt;
                })}
            &lt;/ul&gt;
          &lt;/div&gt;)
    }
}

class Person extends React.Component{
    shouldComponentUpdate(nextProps, nextState) {
          return nextProps.item.name !== this.props.item.name
          // 如果不用深拷贝，nextProps.item.name === this.props.item.name 是 true，相等的原因是因为 item 是引用类型
    }
      render(){
          console.log(&#39;render&#39; + this.props.item.id)
          /* 
          这里打印的是
          render1
          render2
          render3
          避免 1 3 渲染的方法是
          key 值要稳定
          深拷贝
          */
          return &lt;li&gt;{this.props.item.name}&lt;/li&gt;
      }
}

ReactDOM.render(&lt;Name /&gt;,mountNode)
*/
</code></pre><p><a href="https://segmentfault.com/a/1190000006752076" target="_blank" rel="noopener">JavaScript 深入了解基本类型和引用类型的值</a></p>
<h3 id="条件渲染"><a href="#条件渲染" class="headerlink" title="条件渲染"></a>条件渲染</h3><pre><code>/*
方法有：三元 if else 组件 方法 &amp;&amp;判断
*/

class Name extends React.Component{
      render(){
          let isLogin = this.props.isLogin
          let comp = null
          if(isLogin){
          comp = &lt;Logout /&gt;
          }else{
          comp = &lt;Login /&gt;
          }
          return(&lt;div&gt;
              {comp}
              // {isLogin ? &lt;Logout /&gt; : &lt;Login /&gt;}  // 主要用三元运算
          &lt;/div&gt;)
      }
}

class Login extends React.Component{
      render(){
          return &lt;div&gt;login&lt;/div&gt;
      }
}

class Logout extends React.Component{
      render(){
          return &lt;div&gt;logout&lt;/div&gt;
      }
}

ReactDOM.render(&lt;Name isLogin={true}/&gt;,mountNode)

/*
可以封装成一个组件
function SignIn(isLogin) {
      if(isLogin){
      return &lt;Logout/&gt;
      }else{
      return &lt;Login/&gt;
      }
}

// 在 render 写
render(){
  return(&lt;SignIn isLogin={isLogin}/&gt;)
}
*/

/*
也可以做成一个方法
getLogIn(isLogin) {
  if(isLogin){
    return &lt;Logout /&gt;
  }else{
    return &lt;login/&gt;
  }
}

render(){
  return(&lt;div&gt;
      {this.getLogin(isLogin)}
  &lt;/div&gt;)
}
*/

/*
还有一种用 &amp;&amp; 判断
{isLogin &amp;&amp; &lt;Logout/&gt;}
{isLogin &amp;&amp; &lt;LoginIn/&gt;}
*/
</code></pre><h3 id="HOC"><a href="#HOC" class="headerlink" title="HOC"></a>HOC</h3><pre><code>/*
传一个组件出一个组件
其实可以理解为一个给基础组件加方法的处理器
比如说有两个组件 Ad1 Ad2 他们有 abc 三个方法

Ad1Component{
  a(){};b(){};c(){};
}
Ad2Component{
  a(){};b(){};c(){};
}

那我们可以把方法抽离出一个 Basic 组件
BasicComponent{
  a(){};b(){};c(){};
}

然后写到 HOC 转换
function wrapper(WrapperComponent){
  return BasicComponent{
    a(){};b(){};c(){};
    render(){
      return &lt;WrapperComponent /&gt;
    }
  }
}
*/

// 写个例子
// 在 input 组件的名字改变的时候加上一些日志的方法但是不能 input 组件上写（为什么会有这个需求？因为有可能这个组件不是你自己写的）
/*
想到一个方法用 prototype 但是会影响原型链
 function logProps(InputComponent) {
    InputComponent.prototype.componentWillReceiveProps = function(nextProps, nextState) {
      console.log(&#39;============&#39;)
      console.log(&#39;Current props: &#39;, this.props);
      console.log(&#39;Next props: &#39;, nextProps);
    };
    return InputComponent;
}
*/

// 正确的方法应该是利用 HOC 封装方法

class InputComponent extends React.Component{
    componentWillReceiveProps() {

    }
    render() {
        return &lt;div&gt;{this.props.name}&lt;/div&gt;
    }
}

function logProps(WrappedComponent) {
    return class extends React.Component {  // 匿名组件，要实现的共有方法都在这里做
      componentWillReceiveProps(nextProps) {    
        console.log(&#39;Current props: &#39;, this.props);
        console.log(&#39;Next props: &#39;, nextProps);
      }
      render() {
        return &lt;WrappedComponent {...this.props} /&gt;;
      }
    }
}

const EnhancedComponent = logProps(InputComponent);

 let name = &#39;dalao&#39;;
 setInterval(() =&gt; {
    name += &#39; hah&#39;;
    ReactDOM.render(&lt;EnhancedComponent name={name} /&gt;, document.getElementById(&#39;root&#39;));
 }, 1000)
</code></pre><h2 id="Redux"><a href="#Redux" class="headerlink" title="Redux"></a>Redux</h2><p><a href="http://www.redux.org.cn/" target="_blank" rel="noopener">Redux 官方文档</a></p>
<p><a href="https://github.com/slashhuang/redux-annotation" target="_blank" rel="noopener">https://github.com/slashhuang/redux-annotation</a></p>
<p><img src="https://ooo.0o0.ooo/2017/11/04/59fd9c6002509.jpg" alt=""></p>
<h3 id="第一个简单的例子"><a href="#第一个简单的例子" class="headerlink" title="第一个简单的例子"></a>第一个简单的例子</h3><p><a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Object/assign" target="_blank" rel="noopener">Object.assign()</a></p>
<pre><code>import { createStore } from &#39;redux&#39;
const initState = {}
const reducer = (state, action) =&gt; {
    return action
}
const store = createStore(reducer, initState)
store.dispatch({
    type: &#39;init&#39;,
    payload: &#39;hello world&#39;
})
console.log(store.getState())

// redux 的整体架构
// action (动作) ===&gt; 发起 AJAX
// reducer (Handler处理器) ===&gt; JSON 处理
// state (最后的状态) ===&gt; JSON 保存起来

// 通常从后端拉数据的流程是这样的
// AJAX ===&gt; JSON ===&gt; UI

// 所以上面这个代码拆分开来就是
const action = {
      type: &#39;init&#39;,
      payload: &#39;hello world&#39;,
}
const reducer = (state, action) =&gt; {  // state 是前一次保存的数据状态
      return Object.assign({}, state, action);  // 生成下一个数据状态
}
const store = createStore(reducer, initState)
store.dispatch(action)
console.log(store.getState())
</code></pre><h3 id="createStore-源码"><a href="#createStore-源码" class="headerlink" title="createStore 源码"></a>createStore 源码</h3><pre><code>// 需要注意的是第一个参数和第二个参数（reducer, 初始化的 state）
export default function createStore(reducer, preloadedState, enhancer)

/*
判断...
*/

var currentReducer = reducer;  // 当前的处理器
var currentState = preloadedState;   // 当前的state ===&gt; 初始化的 state
var currentListeners = []; 
var nextListeners = currentListeners;
var isDispatching = false;  // 不执行

/*
往下看
*/

function getState() {
    return currentState;  // 直接 return currentState
}

/*
往下看
*/

  function dispatch(action) {

    try {
      isDispatching = true;
      currentState = currentReducer(currentState, action);  
      // 用当前的 reducer 处理当前的 state 和 action
      // 只要 dispatch(action) 就会处理一遍生成一个 state
    } finally {
      isDispatching = false;
    }

    var listeners = currentListeners = nextListeners;
    for (var i = 0; i &lt; listeners.length; i++) {
      var listener = listeners[i];
      listener();
    }

    return action;  // 返回一个 action
  }

/*
往下看
*/

  return _ref2 = {
    dispatch: dispatch,
    subscribe: subscribe,
    getState: getState,
    replaceReducer: replaceReducer
  }, _ref2[$$observable] = observable, _ref2;
  // 最后也是返回出来
</code></pre><h3 id="回看例子分析-createStore-源码"><a href="#回看例子分析-createStore-源码" class="headerlink" title="回看例子分析 createStore 源码"></a>回看例子分析 createStore 源码</h3><pre><code>import { createStore } from &#39;redux&#39;
const initState = {}
const action = {
      type: &#39;init&#39;,
      payload: &#39;hello world&#39;,
}
const reducer = (state, action) =&gt; {   // currentState = currentReducer(currentState, action);  
      return Object.assign({}, state, action);  // 当前的数据状态
}
debugger
const store = createStore(reducer, initState)  // reducer = (state, action) =&gt; {...}, initState = {}
debugger
store.dispatch(action)  // 所以 store 有 dispatch 方法
console.log(store.getState())  // return currentState
// Object {type: &quot;init&quot;, payload: &quot;hello world&quot;}

// debugger 看过程
// var currentReducer = reducer;  // currentReducer = function reducer(state, action), reducer = function reducer(state, action)
// var currentState = preloadedState;  // currentState = Object {}, preloadedState = Object {}

/*
跳到 dispatch return 一个 API 集合
*/

/*
下一个 debugger
currentState = currentReducer(currentState, action); 进去看一下
return Object.assign({}, state, action);  做一个覆盖
currentState 变成了 Object {type: &quot;init&quot;, payload: &quot;hello world&quot;}
*/

/*
看一下 console.log(store.getState())
function getState() {
    return currentState; // 返回 currentState
}
*/

--------------------------------------------------------------------

// 修改一下代码
import { createStore } from &#39;redux&#39;
const initState = {}
const action = {
      type: &#39;init&#39;,
      payload: &#39;hello world&#39;,
}
const reducer = (state, action) =&gt; {
      return Object.assign({}, state, action);
}
const store = createStore(reducer, initState)
debugger
store.subscribe(() =&gt; {
      console.log(&#39;我注册啦&#39;)
})
store.dispatch(action)
console.log(store.getState())

// store.subscribe 进去看看
/*
  function subscribe(listener) {

    //...

    nextListeners.push(listener);    // nextListeners 是一个长度为零的数组，把 listener push 进去
    return function unsubscribe() {
        // ...
    };
  }
*/

// store.dispatch(action) 进去看看
/*
  function dispatch(action) {
    //...
    // 这里会读当前的观察者数组
    var listeners = currentListeners = nextListeners;
    for (var i = 0; i &lt; listeners.length; i++) {
      var listener = listeners[i];
      listener();
    }

    return action;
  }

  ---------------------

  在 console 打 listeners 会打印出 [function]
  listeners[0] 是
  function () {
      console.log(&#39;我注册啦&#39;);
  }
*/

/*
需要注意的一点是
  // When a store is created, an &quot;INIT&quot; action is dispatched so that every
  // reducer returns their initial state. This effectively populates
  // the initial state tree.
  dispatch({ type: ActionTypes.INIT })
  也就是说，每调用一遍 createStore 就会执行一遍 dispatch({ type: ActionTypes.INIT })
  所以初始化的 action 是 type: &quot;@@redux/INIT&quot;
*/
</code></pre><h3 id="怎么改变-dom"><a href="#怎么改变-dom" class="headerlink" title="怎么改变 dom"></a>怎么改变 dom</h3><pre><code>// HTML
    &lt;div id=&#39;root&#39;&gt;
        1
    &lt;/div&gt;
// JS
import { createStore } from &#39;redux&#39;
const ROOTDOM = document.getElementById(&#39;root&#39;)
const initState = {}
const action = {
      type: &#39;init&#39;,
      payload: &#39;hello world&#39;,
}
const reducer = (state, action) =&gt; {  
      return Object.assign({}, state, action); 
}
const store = createStore(reducer, initState) 
store.subscribe(() =&gt; {
      ROOTDOM.innerHTML = JSON.stringify(store.getState())
})
let counter = 0
ROOTDOM.addEventListener(&#39;click&#39;, () =&gt; {
      counter++
      const action = {
          type: &#39;click&#39;,
          payload: counter
      }
      store.dispatch(action)
})
</code></pre><h3 id="实现一个MVVM"><a href="#实现一个MVVM" class="headerlink" title="实现一个MVVM"></a>实现一个MVVM</h3><pre><code>// HTML
&lt;input id=&quot;name&quot;/&gt;
数据预览区
&lt;div id=&quot;preview&quot;&gt;&lt;/div&gt;
&lt;div id=&#39;root&#39;&gt;
1
&lt;/div&gt;
// JS
import { createStore } from &#39;redux&#39;;
const initState = {};
const action = {
    type: &#39;init&#39;,
    payload: &#39;hello world&#39;,
};
const reducer = (state, action) =&gt; {
    return Object.assign({}, state, action);
};
const store = createStore(reducer, initState);
const INPUTDOM = document.getElementById(&#39;name&#39;);
const PREVIEWDOM = document.getElementById(&#39;preview&#39;);
const digestUI = () =&gt; {
    PREVIEWDOM.innerHTML = store.getState().payload;
    if (PREVIEWDOM.innerHTML.length &gt; 20) {
        alert(&#39;length is 20&#39;)
    }
};
const inputChange = () =&gt;{
    let val = INPUTDOM.value;
    const action = {
        type: &#39;input_change&#39;,
        payload: val,
    };
    store.dispatch(action);
};
let counter = 0;
INPUTDOM.addEventListener(&#39;input&#39;, inputChange)
store.subscribe(digestUI);

// 可以看出好处就是行为都是分离的
</code></pre><h3 id="中间件"><a href="#中间件" class="headerlink" title="中间件"></a>中间件</h3><pre><code>// redux中的applyMiddleware中间件
// Middleware makes it easier for software developers
// to implement 【communication and input/output】,
// so they can focus on the 【specific purpose of their application】.
// 更专注 service 服务 input/output service 输入和输出
// ajax ==&gt; json(乱得一笔) =service转换(中间件)=&gt; UI(整理成好的)
// express/Koa

// 前端
// ajax ==http==&gt;
// httpRequest(head,cookie,body)
// middlewares(解析cookie, 拿到post请求的数据)
// 数据就是好的一笔的数据
// 后端(node.js)

// 看一个例子
// 注意下面这些很多箭头的叫做高阶函数
// 例如 const highFunction = a =&gt; b =&gt; c =&gt; console.log(a+b+c); highFunction(1)(2)(3) // 6 // 一个函数执行完之后返回值是一个函数
// 多参函数 ===&gt; 单参函数

// 如果在 createStore 用上 enhancer 逻辑就会被 applyMiddleware 控制
// return enhancer(createStore)(reducer, preloadedState)

// 前一个 next 指向下一个 action=&gt; { next(action) }; 最后一个 next 指向 dispatch 

// 没有中间件 action ==&gt; ==dispatch==&gt; reducer ==&gt; nextState;
// 有中间件 action ==middlewares==&gt; ==dispatch==&gt; reducer ==&gt; nextState;

// applyMiddleware 的思想是把一堆函数封装成一个函数

import { createStore, applyMiddleware } from &#39;redux&#39;;
const logger1 = store =&gt; next =&gt; action =&gt; {
    console.log(&#39;current dipatch&#39; + JSON.stringify(action));
    next(action);
};
const logger2 = store =&gt; next =&gt; action=&gt; {
    next(action);
};
const logger3 = store =&gt; next =&gt; action=&gt; {
    next(action);
};

const enhancer = applyMiddleware(logger1, logger2, logger3);
const reducer = (state, action) =&gt; state;
const store = createStore(reducer, {}, enhancer);
store.dispatch({type:1});
store.dispatch({type:2});
store.dispatch({type:3});
</code></pre><p>action 的另一种写法 <a href="https://github.com/acdlite/flux-standard-action" target="_blank" rel="noopener">https://github.com/acdlite/flux-standard-action</a></p>
<p><a href="https://stackoverflow.com/questions/32646920/whats-the-at-symbol-in-the-redux-connect-decorator" target="_blank" rel="noopener">What’s the ‘@’ (at symbol) in the Redux @connect decorator?</a></p>
<p><a href="http://taobaofed.org/blog/2016/08/18/react-redux-connect/" target="_blank" rel="noopener">React 实践心得：react-redux 之 connect 方法详解</a></p>
<h2 id="ES6"><a href="#ES6" class="headerlink" title="ES6"></a>ES6</h2><p><a href="http://es6.ruanyifeng.com/" target="_blank" rel="noopener">ES6 教程</a></p>
<p><a href="https://frankietang.github.io/2017/10/14/%E6%91%B8%E5%88%B0%20ES6%20%E7%9A%84%E9%97%A8%E6%8A%8A%E6%89%8B/" target="_blank" rel="noopener">摸到 ES6 的门把手</a></p>
<p>Stage 0 - Strawman（展示阶段）</p>
<ul>
<li>Stage 1 - Proposal（征求意见阶段）</li>
<li>Stage 2 - Draft（草案阶段）</li>
<li>Stage 3 - Candidate（候选人阶段）</li>
<li>Stage 4 - Finished（定案阶段）</li>
</ul>
<p>配 babel 的时候有用 </p>
<h3 id="Set-和-Map-的数据结构"><a href="#Set-和-Map-的数据结构" class="headerlink" title="Set 和 Map 的数据结构"></a>Set 和 Map 的数据结构</h3><p><a href="https://github.com/ruanyf/es6tutorial/blob/2ac6e76b38f117f2acf6c465ab70709275b4241a/docs/set-map.md" target="_blank" rel="noopener">set-map</a></p>
<pre><code>// 向 Set 加入值的时候，不会发生类型转换，所以5和&quot;5&quot;是两个不同的值。Set 内部判断两个值是否不同，使用的算法叫做“Same-value equality”，它类似于精确相等运算符（===），主要的区别是NaN等于自身，而精确相等运算符认为NaN不等于自身。
let s = new Set()
s.size // 0
s.add(1) // {1}
s.size // 1
s.add(1) // {1}
s.size // 1
s.add(&#39;1&#39;) // {1,&#39;1&#39;}
s.size // 2

// 如何快速去除数组里的重复元素
[...new Set([1,2,3,4,5,4,3,2,1])]  // (5) [1, 2, 3, 4, 5]
</code></pre><h3 id="Decorators"><a href="#Decorators" class="headerlink" title="Decorators"></a>Decorators</h3><pre><code>// 对类做一个封装
// 懂了，大概就是在 class 上面绑定方法可以直接调用

function divide(target){
  target.prototype.divide = function(a,b) {return a/b}
  return target
}

@divide
class Math{
  add(a,b){
    return a+b
  }
}

let m = new Math()
console.log(m.divide(6,3)) // 2

// 再封装多一个判断

function divide(needAdd){
  return function(target){
    if(needAdd){
      target.prototype.divide = function(a,b) {return a/b}
    }
  }
  return target
}

@divide(true)
class Math{
  add(a,b){
    return a+b
  }
}

let m = new Math()
console.log(m.divide(6,3)) // 2
</code></pre><h2 id="webpack"><a href="#webpack" class="headerlink" title="webpack"></a>webpack</h2><p><a href="https://webpack.js.org/" target="_blank" rel="noopener">webpack 官方文档</a></p>
<h3 id="webpack-与-react"><a href="#webpack-与-react" class="headerlink" title="webpack 与 react"></a>webpack 与 react</h3><pre><code>// 主要是配 loaders
{
    test: /\.js[x]?$/,        // 符合 js 或者 jsx
    loader: &quot;babel-loader&quot;,   // 运行 babel-loader
    exclude: /node_modules/
},
</code></pre><p>说实话 webpack 这东西翻翻文档就好，不用死记硬背的。要什么功能直接 Google ，<code>npm i -D &lt;package&gt;</code></p>
<p><a href="https://juejin.im/post/59bb37fa6fb9a00a554f89d2" target="_blank" rel="noopener">webpack：从入门到真实项目配置</a></p>
<h2 id="babel"><a href="#babel" class="headerlink" title="babel"></a>babel</h2><p><a href="http://babeljs.io/" target="_blank" rel="noopener">babel 官方文档</a></p>
<h3 id="babel-1"><a href="#babel-1" class="headerlink" title="babel"></a>babel</h3><pre><code>// 因为 react 用的是 JSX 所以需要用到 babel
// 不止 JSX 还有高阶组件(HOC) 要用到 es7 的 Decorator
// 把这一堆代码转换成 JS
// 以下是配法 
{
  &quot;presets&quot;: [
     &quot;stage-0&quot;, // 草案 0
     &quot;es2015&quot;,  // es6
     &quot;react&quot;    // react
  ],
   &quot;plugins&quot;: [&quot;transform-decorators-legacy&quot;]  // 翻译 Decorator
}
</code></pre>
        
    

    
</div>


                

                <!-- Post Comments -->
                
                    
    <div id="comment" style='padding:10px;' class="vcomment"></div>
<script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script>
<script src="//unpkg.com/valine/dist/Valine.min.js"></script>
<script>
    var GUEST_INFO = ['nick','mail','link'];
    var guest_info = 'nick,mail,link'.split(',').filter(function(item){
        return GUEST_INFO.indexOf(item) > -1
    });
    var notify = 'false' == true;
    var verify = 'false' == true;
    new Valine({
        el: '.vcomment',
        notify: notify,
        verify: verify,
        appId: "gGYWgR5ke8ukNcYal6KypxX4-gzGzoHsz",
        appKey: "5UK5dOF1SLAuY8cAVBvQA3ni",
        placeholder: "Just go go",
        pageSize:'10',
        avatar:'identicon',
        lang:'zh-cn'
    });
</script>

                
            </div>

            <!-- Post Prev & Next Nav -->
            <nav class="material-nav mdl-color-text--grey-50 mdl-cell mdl-cell--12-col">
    <!-- Prev Nav -->
    
        <a href="/2017/11/13/补基础：JS 单元测试/" id="post_nav-newer" class="prev-content">
            <button class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon mdl-color--white mdl-color-text--grey-900" role="presentation">
                <i class="material-icons">arrow_back</i>
            </button>
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            新篇
        </a>
    

    <!-- Section Spacer -->
    <div class="section-spacer"></div>

    <!-- Next Nav -->
    
        <a href="/2017/10/25/deepin shadowsocks-qt5 全局翻了个墙/" id="post_nav-older" class="next-content">
            旧篇
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            <button class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon mdl-color--white mdl-color-text--grey-900" role="presentation">
                <i class="material-icons">arrow_forward</i>
            </button>
        </a>
    
</nav>

        </div>
    </div>



                    
                        <!-- Overlay For Active Sidebar -->
<div class="sidebar-overlay"></div>

<!-- Material sidebar -->
<aside id="sidebar" class="sidebar sidebar-colored sidebar-fixed-left" role="navigation">
    <div id="sidebar-main">
        <!-- Sidebar Header -->
        <div class="sidebar-header header-cover" style="background-image: url(/img/sidebar_header.png);">
    <!-- Top bar -->
    <div class="top-bar"></div>

    <!-- Sidebar toggle button -->
    <button type="button" class="sidebar-toggle mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon" style="display: initial;" data-upgraded=",MaterialButton,MaterialRipple">
        <i class="material-icons">clear_all</i>
        <span class="mdl-button__ripple-container">
            <span class="mdl-ripple">
            </span>
        </span>
    </button>

    <!-- Sidebar Avatar -->
    <div class="sidebar-image">
        <img src="/img/26715825.jpg" alt="Frankie Tang's avatar">
    </div>

    <!-- Sidebar Email -->
    <a data-toggle="dropdown" class="sidebar-brand" href="#settings-dropdown">
        tangkalun@163.com
        <b class="caret"></b>
    </a>
</div>


        <!-- Sidebar Navigation  -->
        <ul class="nav sidebar-nav">
    <!-- User dropdown  -->
    <li class="dropdown">
        <ul id="settings-dropdown" class="dropdown-menu">
            
                <li>
                    <a href="mailto:tangkalun@163.com" target="_blank" title="Email Me">
                        
                            <i class="material-icons sidebar-material-icons sidebar-indent-left1pc-element">email</i>
                        
                        Email Me
                    </a>
                </li>
            
        </ul>
    </li>

    <!-- Homepage -->
    
        <li id="sidebar-first-li">
            <a href="/">
                
                    <i class="material-icons sidebar-material-icons">home</i>
                
                主页
            </a>
        </li>
        
    

    <!-- Archives  -->
    
        <li class="dropdown">
            <a href="#" class="ripple-effect dropdown-toggle" data-toggle="dropdown">
                
                    <i class="material-icons sidebar-material-icons">inbox</i>
                
                    归档
                <b class="caret"></b>
            </a>
            <ul class="dropdown-menu">
            <li>
                <a class="sidebar_archives-link" href="/archives/2017/12/">十二月 2017<span class="sidebar_archives-count">4</span></a></li><li><a class="sidebar_archives-link" href="/archives/2017/11/">十一月 2017<span class="sidebar_archives-count">7</span></a></li><li><a class="sidebar_archives-link" href="/archives/2017/10/">十月 2017<span class="sidebar_archives-count">21</span></a>
            </ul>
        </li>
        
    

    <!-- Categories  -->
    

    <!-- Pages  -->
    

    <!-- Article Number  -->
    
</ul>


        <!-- Sidebar Footer -->
        <!--
I'm glad you use this theme, the development is no so easy, I hope you can keep the copyright, I will thank you so much.
If you still want to delete the copyrights, could you still retain the first one? Which namely "Theme Material"
It will not impact the appearance and can give developers a lot of support :)

很高兴您使用并喜欢该主题，开发不易 十分谢谢与希望您可以保留一下版权声明。
如果您仍然想删除的话 能否只保留第一项呢？即 "Theme Material"
它不会影响美观并可以给开发者很大的支持和动力。 :)
-->

<!-- Sidebar Divider -->

    <div class="sidebar-divider"></div>


<!-- Theme Material -->

    <a href="https://github.com/viosey/hexo-theme-material"  class="sidebar-footer-text-a" target="_blank">
        <div class="sidebar-text mdl-button mdl-js-button mdl-js-ripple-effect sidebar-footer-text-div" data-upgraded=",MaterialButton,MaterialRipple">
            主题 - Material
            <span class="sidebar-badge badge-circle">i</span>
        </div>
    </a>


<!-- Help & Support -->
<!--

-->

<!-- Feedback -->
<!--

-->

<!-- About Theme -->
<!--

-->

    </div>

    <!-- Sidebar Image -->
    

</aside>

                    

                    
                        <!-- Footer Top Button -->
                        <div id="back-to-top" class="toTop-wrap">
    <a href="#top" class="toTop">
        <i class="material-icons footer_top-i">expand_less</i>
    </a>
</div>

                    

                    <!--Footer-->
<footer class="mdl-mini-footer" id="bottom">
    
        <!-- Paradox Footer Left Section -->
        <div class="mdl-mini-footer--left-section sns-list">
    <!-- Twitter -->
    

    <!-- Facebook -->
    

    <!-- Google + -->
    

    <!-- Weibo -->
    

    <!-- Instagram -->
    

    <!-- Tumblr -->
    

    <!-- Github -->
    
        <a href="https://github.com/FRANKIETANG" target="_blank">
            <button class="mdl-mini-footer--social-btn social-btn footer-sns-github">
                <span class="visuallyhidden">Github</span>
            </button><!--
     --></a>
    

    <!-- LinkedIn -->
    

    <!-- Zhihu -->
    

    <!-- Bilibili -->
    

    <!-- Telegram -->
    
    
    <!-- V2EX -->
    
</div>


        <!--Copyright-->
        <div id="copyright">
            Copyright&nbsp;©<script type="text/javascript">var fd = new Date();document.write("&nbsp;" + fd.getFullYear() + "&nbsp;");</script>付林恒的博客
            
        </div>

        <!-- Paradox Footer Right Section -->

        <!--
        I am glad you use this theme, the development is no so easy, I hope you can keep the copyright.
        It will not impact the appearance and can give developers a lot of support :)

        很高兴您使用该主题，开发不易，希望您可以保留一下版权声明。
        它不会影响美观并可以给开发者很大的支持。 :)
        -->

        <div class="mdl-mini-footer--right-section">
            <div>
                <div class="footer-develop-div">Powered by <a href="https://hexo.io" target="_blank" class="footer-develop-a">Hexo</a></div>
                <div class="footer-develop-div">Theme - <a href="https://github.com/viosey/hexo-theme-material" target="_blank" class="footer-develop-a">Material</a></div>
            </div>
        </div>
    
</footer>


                    <!-- Import JS File -->

    <script>lsloader.load("lazyload_js","/js/lazyload.min.js?1BcfzuNXqV+ntF6gq+5X3Q==", true)</script>



    <script>lsloader.load("js_js","/js/js.min.js?V/53wGualMuiPM3xoetD5Q==", true)</script>



    <script>lsloader.load("np_js","/js/nprogress.js?pl3Qhb9lvqR1FlyLUna1Yw==", true)</script>


<script type="text/ls-javascript" id="NProgress-script">
    NProgress.configure({
        showSpinner: true
    });
    NProgress.start();
    $('#nprogress .bar').css({
        'background': '#29d'
    });
    $('#nprogress .peg').css({
        'box-shadow': '0 0 10px #29d, 0 0 15px #29d'
    });
    $('#nprogress .spinner-icon').css({
        'border-top-color': '#29d',
        'border-left-color': '#29d'
    });
    setTimeout(function() {
        NProgress.done();
        $('.fade').removeClass('out');
    }, 800);
</script>







    <!-- Busuanzi -->
    <script src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script>



   





<!-- UC Browser Compatible -->
<script>
	var agent = navigator.userAgent.toLowerCase();
	if(agent.indexOf('ucbrowser')>0) {
		document.write('<link rel="stylesheet" href="/css/uc.css">');
	   alert('由于 UC 浏览器使用极旧的内核，而本网站使用了一些新的特性。\n为了您能更好的浏览，推荐使用 Chrome 或 Firefox 浏览器。');
	}
</script>

<!-- Import prettify js  -->


    
        <script>lsloader.load("hanabi","/js/hanabi-browser-bundle.js?Pki5+pzkluqu53g+ouMWpA==", true)</script>
    


<!-- Window Load -->
<!-- add class for prettify -->
<script type="text/ls-javascript" id="window-load">
    $(window).on('load', function() {
        // Post_Toc parent position fixed
        $('.post-toc-wrap').parent('.mdl-menu__container').css('position', 'fixed');
    });

    
    
        
        
        HanabiBrowser.start('pre code',true);
    
</script>

<!-- MathJax Load-->


<!-- Bing Background -->

<script type="text/ls-javascript" id="Bing-Background-script">
    queue.offer(function(){
        $('body').attr('data-original', 'https://api.i-meto.com/bing?');
    });
</script>


<script type="text/ls-javascript" id="lazy-load">
    // Offer LazyLoad
    queue.offer(function(){
        $('.lazy').lazyload({
            effect : 'show'
        });
    });

    // Start Queue
    $(document).ready(function(){
        setInterval(function(){
            queue.execNext();
        },200);
    });
</script>

<!-- Custom Footer -->



<script>
    (function(){
        var scriptList = document.querySelectorAll('script[type="text/ls-javascript"]')

        for (var i = 0; i < scriptList.length; ++i) {
            var item = scriptList[i];
            lsloader.runInlineScript(item.id,item.id);
        }
    })()
console.log('\n %c © Material Theme | Version: 1.5.2 | https://github.com/viosey/hexo-theme-material %c \n', 'color:#455a64;background:#e0e0e0;padding:5px 0;border-top-left-radius:5px;border-bottom-left-radius:5px;', 'color:#455a64;background:#e0e0e0;padding:5px 0;border-top-right-radius:5px;border-bottom-right-radius:5px;');
</script>

                </main>
            </div>
        </body>
    
</html>
