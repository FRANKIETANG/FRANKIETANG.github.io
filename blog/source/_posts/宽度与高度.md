---
title: 宽度与高度
date: 2018-02-07 14:43:53
tags: 
- CSS
categories:
- CSS
description: 本文介绍关于 CSS 的宽度和高度，其实诀窍很简单，不要写死 width 和 height 就好了。
---

# 宽度与高度

CSS 最好不要写 `height` 和 `width` 。

## div 的高度

-  文档流（Normal Flow）

  - 块级元素的宽高

    一个 `div` 里面什么都不写，大家都知道这个盒子高度肯定是零。

    ```html
    <!DOCTYPE html>
    <html>
    <head>
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width">
      <title>JS Bin</title>
      <style>
        div{
          border: 1px solid red;
        }
      </style>
    </head>
    <body>
      <div></div>
    </body>
    </html>
    ```

    ​![](https://i.loli.net/2018/02/07/5a7a9bf60c359.png)

    但是如果里面有字呢？细心的话会发现，字的上下有一个行高。实际上这个行高是**字体设计师的建议行高** 。每一种字体的建议行高都是不一样的。想下面这个例子默认字体 `Sans` 行高是 1.45（29/20） 。

    ```html
    <!DOCTYPE html>
    <html>
    <head>
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width">
      <title>JS Bin</title>
      <style>
        div{
          border: 1px solid red;
          font-size: 20px;
        }
      </style>
    </head>
    <body>
      <div>
        1 <br>
        2 <br>
      </div>
    </body>
    </html>
    ```

    ![](https://i.loli.net/2018/02/07/5a7a9bf60a559.png)

    而通过下面这个例子可以看出，块级元素的高是由 `line-height` 确定的。

    ```html
    <!DOCTYPE html>
    <html>
    <head>
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width">
      <title>JS Bin</title>
      <style>
        div{
          border: 1px solid red;
          font-size: 200px;
          line-height: 20px;
        }
      </style>
    </head>
    <body>
      <div>
        1
      </div>
    </body>
    </html>
    ```

    ![](https://i.loli.net/2018/02/07/5a7a9bf60dd67.png)

    从上面几个例子可以看出，div 的高度是由内联元素或者行高来确定的。

    下面来看一个只用中国会发生的问题。

    ![](https://i.loli.net/2018/01/28/5a6d9263beca4.png)

    性对齐联，名对齐式。

    当然很直接的一个方法就是在姓名之间加空格，但是空格无论你打多少个都只会显示一个空格而已，所以就要用到空格占位符。

    ```html
    <!DOCTYPE html>
    <html>
    <head>
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width">
      <title>JS Bin</title>
      <style>
        div{
          border: 1px solid red;
          font-size: 20px;
        }
      </style>
    </head>
    <body>
      <div>
        姓&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;名 <br>
        联系方式
      </div>
    </body>
    </html>
    ```

    这样写其实是有风险的，因为每个字体的空格宽度都是不一样的。所以我们要用下面这个写法。

    ```html
    <!DOCTYPE html>
    <html>
    <head>
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width">
      <title>JS Bin</title>
      <style>
        div{
          border: 1px solid red;
          font-size: 20px;
        }
        span{
          border: 1px solid green;
          display: inline-block;
          width: 5em;
          text-align: justify;  /*对齐的核心 CSS*/
          line-height: 20px;  /*一定要写死*/
          height: 20px;    /*一定要写死*/
          overflow: hidden;   /*隐藏蓝线*/
        }
        span::after{    /*这里的作用是把文字下面加多一行文字*/
          content: '';
          display: inline-block;
          width: 100%;  /*这一行的文字宽度和上面一样*/
          border: 1px solid blue;
        }
      </style>
    </head>
    <body>
      <div>
        <span>姓名</span> <br>
        <span>联系方式</span>
      </div>
    </body>
    </html>
    ```

    还有一点要注意的是，元素和元素之间的回车也会是一个空格。

    ```html
    <!DOCTYPE html>
    <html>
    <head>
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width">
      <title>JS Bin</title>
      <style>
        ul{
          margin: 0;
          padding: 0;
          list-style: none;
          border: 1px solid green;
        }
        ul li{
          /* display: inline-block; 这样写是肯定有空隙的 */
          float: left; /*浮动没有空隙*/
          border: 1px solid red;
        }
        .clearfix:after{
          content: '';
          display: block;
          clear: both;
        }
      </style>
    </head>
    <body>
      <div>
        <ul class="clearfix">
          <!--每个 item 之间都有一个回车，空格就是这个回车搞出来的-->
          <li>item1</li>
          <li>item2</li>
          <li>item3</li>
          <li>item4</li>
          <li>item5</li>
          <li>item6</li>
        </ul>
      </div>
    </body>
    </html>
    ```

    ![](https://i.loli.net/2018/02/07/5a7a9c78c5741.png)

    说了那么多，那文档流到底是个啥玩意？

    ![](https://i.loli.net/2018/01/28/5a6d9f9ed2a86.gif)

    自动换行，就叫文档流。

    为什么会超出行呢？

    ![](https://i.loli.net/2018/01/28/5a6da0a3753a1.png)

    因为浏览器会把连起来的字当成一个单词。

    怎么可以使一个字断开呢？用 `word-break: break-all;`

    ```html
    <!DOCTYPE html>
    <html>
    <head>
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width">
      <title>JS Bin</title>
      <style>
        div{
          border: 1px solid red;
          word-break: break-all;
        }
      </style>
    </head>
    <body>
    <div>
    hiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiii
    </div>
    </body>
    </html>
    ```

## 多行文字溢出

- 文字溢出省略（多行）

  ![](https://i.loli.net/2018/01/28/5a6dbe0f49ff0.png)

  ```html
  <!DOCTYPE html>
  <html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width">
    <title>JS Bin</title>
    <style>
      div{
        border: 1px solid red;
        white-space: nowrap; /*不换行*/
        overflow: hidden;
        text-overflow: ellipsis;
      }
    </style>
  </head>
  <body>
    <div>
      很多字很多字很多字很多字很多字很多字很多字很多字很多字很多字很多字很多字很多字很多字很多字很多字很多字很多字很多字很多字很多字很多字很多字很多字很多字很多字很多字很多字很多字很多字很多字很多字很多字很多字很多字很多字很多字很多字很多字很多字很多字很多字很多字很多字很多字很多字很多字很多字很多字很多字很多字很多字很多字很多字很多字很多字很多字很多字很多字很多字很多字很多字很多字很多字
    </div>
  </body>
  </html>
  ```

  ![](https://i.loli.net/2018/02/07/5a7a9ccbb209a.png)

  这个只是单行文本，那多行文本呢？

  ```html
  <!DOCTYPE html>
  <html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width">
    <title>JS Bin</title>
    <style>
      div{
        border: 1px solid red;
        overflow: hidden;
        text-overflow: ellipsis;
        display: -webkit-box;
        -webkit-line-clamp: 3;
        -webkit-box-orient: vertical;
      }
    </style>
  </head>
  <body>
    <div>
      很多字很多字很多字很多字很多字很多字很多字很多字很多字很多字很多字很多字很多字很多字很多字很多字很多字很多字很多字很多字很多字很多字很多字很多字很多字很多字很多字很多字很多字很多字很多字很多字很多字很多字很多字很多字很多字很多字很多字很多字很多字很多字很多字很多字很多字很多字很多字很多字很多字很多字很多字很多字很多字很多字很多字很多字很多字很多字很多字很多字很多字很多字很多字很多字
    </div>
  </body>
  </html>
  ```

  ![](https://i.loli.net/2018/02/07/5a7a9ccbb05c7.png)

  不会搜就可以了。

## 文字垂直居中

```html
<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width">
  <title>JS Bin</title>
  <style>
    div{
      border: 1px solid red;
      line-height: 24px;
      padding: 25px;
      text-align: center;
    }
  </style>
</head>
<body>
  <div>
    很多字很多字很多字很多字很多字很多字很多字很多字很多字很多字很多字很多字很多字很多字很多字很多字很多字很多字很多字很多字很多字很多字很多字很多字很多字很多字很多字很多字很多字很多字很多字很多字很多字很多字很多字很多字很多字很多字很多字很多字很多字很多字很多字很多字很多字很多字很多字很多字很多字很多字很多字很多字很多字很多字很多字很多字很多字很多字很多字很多字很多字很多字很多字很多字
  </div>
</body>
</html>
```

![](https://i.loli.net/2018/02/07/5a7a9d49eeaaf.png)

切记不要写死 `height` 。

## margin 合并

举个例子

```html
<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width">
  <title>JS Bin</title>
  <style>
    body{
      border: 1px solid black;
    }
    .son{
      border: 10px solid red;
      padding: 10px;
      margin: 10px;
    }
    .dad{
      outline: 1px solid green;
    }
  </style>
</head>
<body>
  <div class="dad">
    <div class="son">
      111
    </div>
  </div>
</body>
</html>
```

![](https://i.loli.net/2018/01/28/5a6dcee9a69b5.png)

如果父元素没有什么挡住子元素，外边距就会合并。

这一点的确要注意，因为有可能写着写着代码高度突然变高的原因就是因为外边距合并。

消除合并的方法

- `border`
- `padding`
- `overflow: hidden;`

## 总结与其他实例

主要有两点：

- 有内联元素的时候高度是如何确定的？
- 有块级元素的时候高度是如何确定的？

那有内联元素和块级元素呢？

```HTML
<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width">
  <title>JS Bin</title>
  <style>
    body{
      border: 1px solid black;
    }
    .son{
      border: 10px solid red;
      padding: 10px;
      margin: 10px;
    }
    .dad{
      outline: 5px solid green;
    }
  </style>
</head>
<body>
  <div class="dad">
    text1
    <div class="son">
      111
    </div>
    text2
    <div class="son">
      111
    </div>
    text3
  </div>
</body>
</html>
```

![](https://i.loli.net/2018/01/28/5a6dd48bc7690.png)

可以看出会自动包裹内联元素，也解决了外边距合并。

所以说，div 的高度是它里面有多少东西有关的。

脱离文档流是什么呢？

就是高度不要算上我

```html
<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width">
  <title>JS Bin</title>
  <style>
    body{
      border: 1px solid black;
    }
    .son{
      border: 10px solid red;
      padding: 10px;
      margin: 10px;
    }
    .dad{
      outline: 5px solid green;
    }
  </style>
</head>
<body>
  <div class="dad">
    text1
    <div class="son" style="float: left; background: blue;">
    <!--<div class="son" style="position: absolute; background: blue;">-->
    <!--<div class="son" style="position: fixed; background: blue;">-->
      111
    </div>
    text2
    <div class="son">
      111
    </div>
    text3
  </div>
</body>
</html>
```

![](https://i.loli.net/2018/01/28/5a6de53ad9629.png)

而且这个盒子已经是脱离了，不管怎么移动都不会影响到其他元素。

这里再说说垂直居中

```html
<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width">
  <title>JS Bin</title>
  <style>
    body{
      border: 1px solid black;
    }
    .son{
      border: 5px solid red;
      width: 100px;
      padding: 10px;
      margin: 0 auto;
    }
    .dad{
      outline: 3px solid green;
      padding: 100px 0;
    }
  </style>
</head>
<body>
  <div class="dad">
    <div class="son">
      111
    </div>
  </div>
</body>
</html>
```

![](https://i.loli.net/2018/02/07/5a7a9e68cca93.png)

这是一种比较常见的垂直居中，但是有的时候会有高度固定的垂直居中的需求。（例如全屏居中）

```html
<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width">
  <title>JS Bin</title>
  <style>
    body{
      margin: 0;
    }
    .son{
      border: 5px solid red;
      width: 100px;
      padding: 10px;
      margin: auto;
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      height: 50px; /*这里一定要定高，非常麻烦*/
    }
    .dad{
      border: 3px solid green;
      height: 100vh;
      box-sizing: border-box;
    }
  </style>
</head>
<body>
  <div class="dad">
    <div class="son">
      111
    </div>
  </div>
</body>
</html>
```

![](https://i.loli.net/2018/02/07/5a7a9e68d67dc.png)

如果中间文字不定高呢？只能用 flex 了。

```html
<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width">
  <title>JS Bin</title>
  <style>
    body{
      margin: 0;
    }
    .son{
      border: 5px solid red;
      width: 100px;
      padding: 10px;
    }
    .dad{
      border: 3px solid green;
      height: 100vh;
      box-sizing: border-box;
      display: flex;
      justify-content: center;
      align-items: center;
    }
  </style>
</head>
<body>
  <div class="dad">
    <div class="son">
      111
    </div>
  </div>
</body>
</html>
```

![](https://i.loli.net/2018/02/07/5a7a9e68d4e3f.png)

如果 div 盒子外有文档

```HTML
<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width">
  <title>JS Bin</title>
  <style>
    body{
      margin: 0;
    }
    .son{
      border: 5px solid red;
      width: 100px;
      padding: 10px;
    }
    .dad{
      height: 100vh;
      box-sizing: border-box;
      display: flex;
      justify-content: center;
      align-items: center;
      background: rgba(0,0,0,0.5);
      color: white;
      position: fixed;
      width: 100%;
      top: 0;
      left: 0;
    }
  </style>
</head>
<body>
  sadas gdsajadgas shakdhasdjkha sadhjkash
  <div class="dad">
    <div class="son">
      111
    </div>
  </div>
</body>
</html>
```

![](https://i.loli.net/2018/02/07/5a7a9eebb5c4e.png)

span 和 div 的高度不会互相影响

```html
<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width">
  <title>JS Bin</title>
  <style>
    span{
      border: 1px solid red;
      padding: 20px;
      margin: 20px;
    }
    div{
      border: 1px solid green;
    }
  </style>
</head>
<body>
  <div>
    <span>111</span>
  </div>
</body>
</html>
```

![](https://i.loli.net/2018/01/29/5a6df498eaaf2.png)

一比一的 div

```html
<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width">
  <title>JS Bin</title>
  <style>
    div{
      padding-top: 100%;
      border: 1px solid green;
    }
  </style>
</head>
<body>
  <div></div>
</body>
</html>
```

![](https://i.loli.net/2018/02/07/5a7a9f285c82d.gif)